[{"path":[]},{"path":"https://massbays-tech.github.io/MassWateR/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others’ private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"https://massbays-tech.github.io/MassWateR/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement mbafs2012@gmail.com. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"https://massbays-tech.github.io/MassWateR/CODE_OF_CONDUCT.html","id":"1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/CODE_OF_CONDUCT.html","id":"2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/CODE_OF_CONDUCT.html","id":"3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/CODE_OF_CONDUCT.html","id":"4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.0, available https://www.contributor-covenant.org/version/2/0/code_of_conduct.html. Community Impact Guidelines inspired Mozilla’s code conduct enforcement ladder. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https://www.contributor-covenant.org/translations.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to MassWateR","title":"Contributing to MassWateR","text":"outlines propose change MassWateR. detailed info contributing , packages, please see development contributing guide.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/CONTRIBUTING.html","id":"fixing-typos","dir":"","previous_headings":"","what":"Fixing typos","title":"Contributing to MassWateR","text":"can fix typos, spelling mistakes, grammatical errors documentation directly using GitHub web interface, long changes made source file. generally means ’ll need edit roxygen2 comments .R, .Rd file. can find .R file generates .Rd reading comment first line.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/CONTRIBUTING.html","id":"bigger-changes","dir":"","previous_headings":"","what":"Bigger changes","title":"Contributing to MassWateR","text":"want make bigger change, ’s good idea first file issue make sure someone team agrees ’s needed. ’ve found bug, please file issue illustrates bug minimal reprex (also help write unit test, needed).","code":""},{"path":"https://massbays-tech.github.io/MassWateR/CONTRIBUTING.html","id":"pull-request-process","dir":"","previous_headings":"Bigger changes","what":"Pull request process","title":"Contributing to MassWateR","text":"Fork package clone onto computer. haven’t done , recommend using usethis::create_from_github(\"massbays-tech/MassWateR\", fork = TRUE). Install development dependencies devtools::install_dev_deps(), make sure package passes R CMD check running devtools::check(). R CMD check doesn’t pass cleanly, ’s good idea ask help continuing. Create Git branch pull request (PR). recommend using usethis::pr_init(\"brief-description--change\"). Make changes, commit git, create PR running usethis::pr_push(), following prompts browser. title PR briefly describe change. body PR contain Fixes #issue-number. user-facing changes, add bullet top NEWS.md (.e. just first header). Follow style described https://style.tidyverse.org/news.html.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/CONTRIBUTING.html","id":"code-style","dir":"","previous_headings":"Bigger changes","what":"Code style","title":"Contributing to MassWateR","text":"New code follow tidyverse style guide. can use styler package apply styles, please don’t restyle code nothing PR. use roxygen2, Markdown syntax, documentation. use testthat unit tests. Contributions test cases included easier accept.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Contributing to MassWateR","text":"Please note MassWateR project released Contributor Code Conduct. contributing project agree abide terms.","code":""},{"path":[]},{"path":"https://massbays-tech.github.io/MassWateR/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"CC0 1.0 Universal","title":"CC0 1.0 Universal","text":"CREATIVE COMMONS CORPORATION LAW FIRM PROVIDE LEGAL SERVICES. DISTRIBUTION DOCUMENT CREATE ATTORNEY-CLIENT RELATIONSHIP. CREATIVE COMMONS PROVIDES INFORMATION “-” BASIS. CREATIVE COMMONS MAKES WARRANTIES REGARDING USE DOCUMENT INFORMATION WORKS PROVIDED HEREUNDER, DISCLAIMS LIABILITY DAMAGES RESULTING USE DOCUMENT INFORMATION WORKS PROVIDED HEREUNDER.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/LICENSE.html","id":"statement-of-purpose","dir":"","previous_headings":"","what":"Statement of Purpose","title":"CC0 1.0 Universal","text":"laws jurisdictions throughout world automatically confer exclusive Copyright Related Rights (defined ) upon creator subsequent owner(s) (, “owner”) original work authorship /database (, “Work”). Certain owners wish permanently relinquish rights Work purpose contributing commons creative, cultural scientific works (“Commons”) public can reliably without fear later claims infringement build upon, modify, incorporate works, reuse redistribute freely possible form whatsoever purposes, including without limitation commercial purposes. owners may contribute Commons promote ideal free culture production creative, cultural scientific works, gain reputation greater distribution Work part use efforts others. /purposes motivations, without expectation additional consideration compensation, person associating CC0 Work (“Affirmer”), extent owner Copyright Related Rights Work, voluntarily elects apply CC0 Work publicly distribute Work terms, knowledge Copyright Related Rights Work meaning intended legal effect CC0 rights. Copyright Related Rights. Work made available CC0 may protected copyright related neighboring rights (“Copyright Related Rights”). Copyright Related Rights include, limited , following: right reproduce, adapt, distribute, perform, display, communicate, translate Work; moral rights retained original author(s) /performer(s); publicity privacy rights pertaining person’s image likeness depicted Work; rights protecting unfair competition regards Work, subject limitations paragraph 4(), ; rights protecting extraction, dissemination, use reuse data Work; database rights (arising Directive 96/9/EC European Parliament Council 11 March 1996 legal protection databases, national implementation thereof, including amended successor version directive); similar, equivalent corresponding rights throughout world based applicable law treaty, national implementations thereof. Waiver. greatest extent permitted , contravention , applicable law, Affirmer hereby overtly, fully, permanently, irrevocably unconditionally waives, abandons, surrenders Affirmer’s Copyright Related Rights associated claims causes action, whether now known unknown (including existing well future claims causes action), Work () territories worldwide, (ii) maximum duration provided applicable law treaty (including future time extensions), (iii) current future medium number copies, (iv) purpose whatsoever, including without limitation commercial, advertising promotional purposes (“Waiver”). Affirmer makes Waiver benefit member public large detriment Affirmer’s heirs successors, fully intending Waiver shall subject revocation, rescission, cancellation, termination, legal equitable action disrupt quiet enjoyment Work public contemplated Affirmer’s express Statement Purpose. Public License Fallback. part Waiver reason judged legally invalid ineffective applicable law, Waiver shall preserved maximum extent permitted taking account Affirmer’s express Statement Purpose. addition, extent Waiver judged Affirmer hereby grants affected person royalty-free, non transferable, non sublicensable, non exclusive, irrevocable unconditional license exercise Affirmer’s Copyright Related Rights Work () territories worldwide, (ii) maximum duration provided applicable law treaty (including future time extensions), (iii) current future medium number copies, (iv) purpose whatsoever, including without limitation commercial, advertising promotional purposes (“License”). License shall deemed effective date CC0 applied Affirmer Work. part License reason judged legally invalid ineffective applicable law, partial invalidity ineffectiveness shall invalidate remainder License, case Affirmer hereby affirms () exercise remaining Copyright Related Rights Work (ii) assert associated claims causes action respect Work, either case contrary Affirmer’s express Statement Purpose. Limitations Disclaimers. trademark patent rights held Affirmer waived, abandoned, surrendered, licensed otherwise affected document. Affirmer offers Work -makes representations warranties kind concerning Work, express, implied, statutory otherwise, including without limitation warranties title, merchantability, fitness particular purpose, non infringement, absence latent defects, accuracy, present absence errors, whether discoverable, greatest extent permissible applicable law. Affirmer disclaims responsibility clearing rights persons may apply Work use thereof, including without limitation person’s Copyright Related Rights Work. , Affirmer disclaims responsibility obtaining necessary consents, permissions rights required use Work. Affirmer understands acknowledges Creative Commons party document duty obligation respect CC0 use Work.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/articles/datainput.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"MassWateR data input and checks","text":"MassWateR R package developed work surface water monitoring data collected watershed associations citizen science groups Massachusetts. package created collaboration Massachusetts Bays National Estuary Partnership funding EPA Exchange Network Grant. objective package automate facilitate quality control exploratory analysis data intended upload EPA Water Quality Exchange (WQX). functions provide streamlined repeatable means 1) screening data quality control, 2) interpreting data, 3) creating graphics analysis reports stakeholders. Miscellaneous formatting tools also available facilitate data upload WQX. functions organized around topics, shown . Functions MassWateR organized around topics. Three types data used package. types provided make best use functions: Water quality results organized sample location date. Summary data quality objectives describe quality control accuracy, frequency, completeness measures data results file. site metadata file, including location names, latitude, longitude, additional grouping factors sites. input data follow standard formats WQX network. Example files, described , provided package demonstrate appropriate formats.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/articles/datainput.html","id":"installation-and-example-data-files","dir":"Articles","previous_headings":"","what":"Installation and example data files","title":"MassWateR data input and checks","text":"Install package follows: Load package R session installation: example files package can viewed navigating location package installation. available Excel files. Running code show files located. surface water quality results files: data quality objectives file accuracy: data quality objectives file completeness: site metadata file: example files provided demonstrate functions MassWateR used. practice, alternative data files follow format examples used functions. several checks included data import functions ensure files formatted correctly downstream use. checks fail, error message returned prompts necessary changes must made Excel file data can used. checks can suppressed setting runchk = FALSE import functions. checks described next section.","code":"# Enable universe(s) by massbays-tech options(repos = c(   massbaystech = 'https://massbays-tech.r-universe.dev',   CRAN = 'https://cloud.r-project.org'))  # Install the package install.packages('MassWateR') library(MassWateR) system.file('extdata/ExampleResults_final.xlsx', package = 'MassWateR') system.file('extdata/ExampleDQOAccuracy_final.xlsx', package = 'MassWateR') system.file('extdata/ExampleDQOFrequencyCompleteness_final.xlsx', package = 'MassWateR') system.file('extdata/ExampleSites_final.xlsx', package = 'MassWateR')"},{"path":"https://massbays-tech.github.io/MassWateR/articles/datainput.html","id":"data-import-and-checks","dir":"Articles","previous_headings":"","what":"Data import and checks","title":"MassWateR data input and checks","text":"MassWateR package developed quality control exploratory analysis surface water quality data. analyses can occur, data must formatted correctly. section describes import data expectations checked automatically functions. many checks, parameter names units need match following columns params() file included package. Specifically parameter names (either Characteristic Name results file, Parameter data quality objectives files) can simple WQX format . units can apply given parameter, although one allowed per parameter. entries case-sensitive.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/articles/datainput.html","id":"surface-water-quality-results","dir":"Articles","previous_headings":"Data import and checks","what":"Surface water quality results","title":"MassWateR data input and checks","text":"First, surface water quality results can imported read_results() function. designed import Excel file external R, run checks data, provide minor formatting downstream quality control exploratory analysis. example, system file ExampleResults_final.xlsx imported. practice, pth argument point external file WQX format. Note runchk = TRUE set run checks data import. default setting necessary explicitly set argument import. Several checks run automatically data imported. file checks follows (also viewed help file check_results(): Column name spelling: following: Monitoring Location ID, Activity Type, Activity Start Date, Activity Start Time, Activity Depth/Height Measure, Activity Depth/Height Unit, Activity Relative Depth Name, Characteristic Name, Result Value, Result Unit, Quantitation Limit, QC Reference Value, Result Measure Qualifier, Result Attribute. Columns present: columns previous present, Result Attribute optional Activity Type: one Field Msr/Obs, Sample-Routine, Quality Control Sample-Field Blank, Quality Control Sample-Lab Blank, Quality Control Sample-Lab Duplicate, Quality Control Sample-Lab Spike Date formats: mm/dd/yyyy parsed correctly import Time formats: HH:MM parsed correctly import Non-numeric Activity Depth/Height Measure: depth values numbers, excluding missing values Activity Depth/Height Unit: entries ft, m, blank Activity Depth/Height Measure range: depth values less equal 1 meter 3.3 feet (warning ) Activity Relative Depth Name: either Surface, Bottom, Midwater, Near Bottom, blank (warning ) Characteristic Name: match parameter names Simple Parameter WQX Parameter column params() data Result Value: numeric value text value AQL BDL QC Reference Value: entered values numeric Result Unit: missing entries Result Unit, except pH can blank Single Result Unit: unique parameter Characteristic Name one entry Result Unit Correct Result Unit: unique parameter Characteristic Name entry Result Unit matches one acceptable values Units measure column params() data, see table . informative error returned input data fail checks. input data corrected hand Excel file altering appropriate rows column names indicated error. Checks warnings can fixed discretion user proceeding. example error might returned incorrect data entry (using check_results() function, used inside read_results()). remedy issue, change entries row 4 135 Activity Type column Sample-Routine Field Msr/Obs, respectively. must done original Excel file. Import data R verify data corrected. Data imported read_results() also formatted take care minor issues downstream analysis. formatting includes: Fix date time inputs: Activity Start Date converted YYYY-MM-DD date object, Activity Start Time converted HH:MM character fix artifacts Excel import. Minor formatting Result Unit: conformance WQX, e.g., ppt changed ppth, s.u. changed NA. Convert characteristic Names: parameters Characteristic Name converted Simple Parameter params() needed.","code":"respth <- system.file('extdata/ExampleResults_final.xlsx', package = 'MassWateR') resdat <- read_results(respth, runchk = TRUE) #> Running checks on results data... #>  Checking column names... OK #>  Checking all required columns are present... OK #>  Checking valid Activity Types... OK #>  Checking Activity Start Date formats... OK #>  Checking Activity Start Time formats... OK #>  Checking for non-numeric values in Activity Depth/Height Measure... OK #>  Checking Activity Depth/Height Unit... OK #>  Checking values in Activity Depth/Height Measure > 1 m / 3.3 ft... OK #>  Checking Activity Relative Depth Name formats... OK #>  Checking Characteristic Name formats... OK #>  Checking Result Values... OK #>  Checking QC Reference Values... OK #>  Checking for missing entries for Result Unit... OK #>  Checking if more than one unit per Characteristic Name... OK #>  Checking acceptable units for each entry in Characteristic Name... OK #>  #> All checks passed! head(resdat) #> # A tibble: 6 × 14 #>   `Monitoring Location ID` `Activity Type` `Activity Start Da…` `Activity Star…` #>   <chr>                    <chr>           <date>               <chr>            #> 1 HBS-016                  Field Msr/Obs   2021-01-14           09:22            #> 2 HBS-057                  Field Msr/Obs   2021-01-14           10:30            #> 3 HBS-016                  Sample-Routine  2021-01-14           09:22            #> 4 HBS-016                  Sample-Routine  2021-01-14           09:22            #> 5 LND-007                  Field Msr/Obs   2021-01-14           09:50            #> 6 HBS-076                  Field Msr/Obs   2021-01-14           11:58            #> # … with 10 more variables: `Activity Depth/Height Measure` <chr>, #> #   `Activity Depth/Height Unit` <chr>, `Activity Relative Depth Name` <chr>, #> #   `Characteristic Name` <chr>, `Result Value` <chr>, `Result Unit` <chr>, #> #   `Quantitation Limit` <chr>, `QC Reference Value` <chr>, #> #   `Result Measure Qualifier` <chr>, `Result Attribute` <chr> respth <- system.file('extdata/ExampleResults_final.xlsx', package = 'MassWateR') resdat <- readxl::read_excel(respth) chk <- resdat chk[4, 2] <- 'Sample' chk[135, 2] <- 'Field' check_results(chk) #> Running checks on results data... #>  Checking column names... OK #>  Checking all required columns are present... OK #> Error:   Checking valid Activity Types... #>  Incorrect Activity Type found: Sample, Field in row(s) 4, 135"},{"path":"https://massbays-tech.github.io/MassWateR/articles/datainput.html","id":"data-quality-objectives","dir":"Articles","previous_headings":"Data import and checks","what":"Data quality objectives","title":"MassWateR data input and checks","text":"use quality control functions MassWateR, Excel files describe data quality objectives accuracy, frequency, completeness must provided. system files included package, described , demonstrate required information format files. can imported R using read_acc() read_frecom() functions accuracy, frequency, completeness files. pth argument point location external files computer. , system files included package used examples. read_acc() read_frecom() functions run series checks ensure imported data formatted correctly. check_acc() check_frecom() functions run checks read_acc() read_frecom() functions executed, respectively. checks follows. File checks accuracy: Column name spelling: following: Parameter, uom, MDL, UQL, Value Range, Field Duplicate, Lab Duplicate, Field Blank, Lab Blank, Spike/Check Accuracy Columns present: columns previous check present Non-numeric values MDL, UQL: Values entered columns MDL UQL numeric Unrecognized characters: Fields describing accuracy checks include symbols text \\(<=\\), \\(\\leq\\), \\(<\\), \\(>=\\), \\(\\geq\\), \\(>\\), \\(\\pm\\) %, BDL, AQL, log, Parameter: match parameter names Simple Parameter WQX Parameter columns params() data Units: missing entries units (uom), except pH can blank Single unit: unique Parameter one type units (uom) Correct units: unique Parameter entry units (uom) matches one acceptable values Units measure column params() data, see table . File checks frequency completeness: Column name spelling: following: Parameter, Field Duplicate, Lab Duplicate, Field Blank, Lab Blank, Spike/Check Accuracy, % Completeness Columns present: columns previous check present Non-numeric values: Values entered columns first numeric Values outside 0 - 100: Values entered columns first outside 0 100 Parameter: match parameter names Simple Parameter WQX Parameter columns params() data files, parameters Parameter column converted Simple Parameter params() needed. done automatically using form_acc() form_frecom() within import functions.","code":"# import data quality objectives for accuracy accpth <- system.file('extdata/ExampleDQOAccuracy_final.xlsx', package = 'MassWateR') accdat <- read_acc(accpth) #> Running checks on data quality objectives for accuracy... #>  Checking column names... OK #>  Checking all required columns are present... OK #>  Checking for non-numeric values in MDL, UQL... OK #>  Checking for text other than <=, ≤, <, >=, ≥, >, ±, %, AQL, BQL, log, or all... OK #>  Checking Parameter formats... OK #>  Checking for missing entries for unit (uom)... OK #>  Checking if more than one unit (uom) per Parameter... OK #>  Checking acceptable units (uom) for each entry in Parameter... OK #>  #> All checks passed! head(accdat) #> # A tibble: 6 × 10 #>   Parameter    uom     MDL   UQL `Value Range` `Field Duplicate` `Lab Duplicate` #>   <chr>        <chr> <dbl> <dbl> <chr>         <chr>             <chr>           #> 1 Water Temp   deg C  NA      NA all           <= 10%            <= 10%          #> 2 pH           s.u.   NA      NA all           0.5               0.5             #> 3 DO           mg/l    0.1    NA < 4           <= 20%            <= 20%          #> 4 DO           mg/l    0.1    NA >= 4          <= 10%            <= 10%          #> 5 Conductivity uS/cm   1      NA < 250         <= 30%            <= 20%          #> 6 Conductivity uS/cm   1      NA >= 250        <= 20%            <= 10%          #> # … with 3 more variables: `Field Blank` <chr>, `Lab Blank` <chr>, #> #   `Spike/Check Accuracy` <dbl> # import data quality objectives for frequency and completeness frecompth <- system.file('extdata/ExampleDQOFrequencyCompleteness_final.xlsx', package = 'MassWateR') frecomdat <- read_frecom(frecompth) #> Running checks on data quality objectives for frequency and completeness... #>  Checking column names... OK #>  Checking all required columns are present... OK #>  Checking for non-numeric values... OK #>  Checking for values outside of 0 and 100... OK #>  Checking Parameter formats... OK #>  #> All checks passed! head(frecomdat) #> # A tibble: 6 × 7 #>   Parameter    `Field Duplicate` `Lab Duplicate` `Field Blank` `Lab Blank` #>   <chr>                    <dbl>           <dbl>         <dbl>       <dbl> #> 1 Water Temp                  10              10            NA          NA #> 2 pH                          10              10            NA          NA #> 3 DO                          10              10            NA          10 #> 4 Conductivity                10              10            NA          10 #> 5 TSS                         10               5            10           5 #> 6 TP                          10               5            10           5 #> # … with 2 more variables: `Spike/Check Accuracy` <dbl>, `% Completeness` <dbl>"},{"path":"https://massbays-tech.github.io/MassWateR/articles/datainput.html","id":"site-metadata","dir":"Articles","previous_headings":"Data import and checks","what":"Site metadata","title":"MassWateR data input and checks","text":"Excel file site metadata describes spatial location grouping factors sites results file can imported using read_sites(). system file included package, described , demonstrates required information format file. pth argument point location external file computer. , system file included package used example. read_sites() functions runs several checks file using check_sites() function. checks ensure latitude longitude data present properly formatted. assumed latitude longitude data entered decimal degrees. projection can entered functions used exploratory analysis. Details file checks follows: Column name spelling: following: Monitoring Location ID, Monitoring Location Name, Monitoring Location Latitude, Monitoring Location Longitude, Location Group Columns present: columns previous check present Missing longitude latitude: missing entries Monitoring Location Latitude Monitoring Location Longitude Non-numeric latitude values: Values entered Monitoring Location Latitude must numeric Non-numeric longitude values: Values entered Monitoring Location Longitude must numeric Positive longitude values: Values Monitoring Location Longitude must negative Missing Location ID: missing entries Monitoring Location ID","code":"# import site metadata sitpth <- system.file('extdata/ExampleSites_final.xlsx', package = 'MassWateR') sitdat <- read_sites(sitpth) #> Running checks on site metadata... #>  Checking column names... OK #>  Checking all required columns are present... OK #>  Checking for missing latitude or longitude values... OK #>  Checking for non-numeric values in latitude... OK #>  Checking for non-numeric values in longitude... OK #>  Checking for positive values in longitude... OK #>  Checking for missing entries for Monitoring Location ID... OK #>  #> All checks passed! head(sitdat) #> # A tibble: 6 × 5 #>   `Monitoring Location ID` `Monitoring Locat…` `Monitoring Lo…` `Monitoring Lo…` #>   <chr>                    <chr>                          <dbl>            <dbl> #> 1 ABT-010                  477 Lowell Rd, Con…             42.5            -71.4 #> 2 ABT-026                  Rte 2, Concord                  42.5            -71.4 #> 3 ABT-033                  Rte 62, W Concord               42.5            -71.4 #> 4 ABT-044                  Rte 62 (Damonmill)…             42.5            -71.4 #> 5 ABT-047                  Damonmill dam                   42.5            -71.4 #> 6 ABT-062                  Rte 62, Acton                   42.4            -71.4 #> # … with 1 more variable: `Location Group` <chr>"},{"path":[]},{"path":"https://massbays-tech.github.io/MassWateR/articles/qcoverview.html","id":"quality-control-for-frequency-and-completeness","dir":"Articles","previous_headings":"","what":"Quality control for frequency and completeness","title":"MassWateR quality control functions","text":"quality control checks frequency completeness used verify appropriate number quality control samples collected analyzed parameter. checks quantity samples values, accuracy checks. frequency completeness checks require results data (resdat ) data quality objectives file frequency completeness (frecomdat). core function assesses completeness tab_completeness() can used create two different summary tables. tab_completeness() function can used inputs paths relevant files data frames returned read_results() read_frecom(). former, full suite data checks can evaluated runkchk = T (default) suppressed runchk = F, explained data inputs checks vignette. latter case, downstream analyses may work data formatted incorrectly. Also note completeness evaluated parameters Parameter column data quality objectives completeness file. warning returned parameters column found results file. warning can suppressed setting warn = FALSE. summary table showing total number records, total number qualified records (collected data quality objective checks), percent completeness (difference two) can created tab_completeness() setting type = 'summary'. % Completeness column shows cells green red required percentage observations completeness present specified data quality objectives file. Note warning message returned indicating parameter Chloride found data quality objectives file, found results data. Completeness checks done parameters shared two. function also executed data frames , since already passed internal checks. Parameter Number Data Records Number Qualified Records % Completeness Notes Ammonia 152 14 91%  Chl 18 0 100%  Conductivity 208 9 96%  199 0 100%  Nitrate 110 14 87%  Ortho P 175 0 100%  pH 206 7 97%  TP 232 29 88%  TSS 202 0 100%  Water Temp 382 0 100%  second table showing percentage observations results file satisfy checks (e.g., percent field duplicates, etc.) can created tab_completeness() setting type = 'percent'. previous table, cells shown green red required percentage observations present check specified data quality objectives file. Parameter Field Duplicate Lab Duplicate Field Blank Lab Blank Spike/Check Accuracy Ammonia 0% 0% 5% 5% 0% Chl 0% 0% 0% 0% 0% Conductivity 0% 0% - 0% 4% 0% 0% - 0% 0% Nitrate 0% 7% 0% 0% 5% Ortho P 0% 0% 0% 0% 0% pH 0% 0% - - 3% TP 0% 3% 3% 3% 2% TSS 0% 0% 0% 0% 0% Water Temp 0% 0% - - - tab_completeness() function uses qc_completeness() function internally create required tables. function creates raw summaries completeness input data. Typically, qc_completeness() used used internally tab_completeness(). explained demonstrate raw summaries can obtained, desired. , qc_completeness() function executed data frames results quality objectives file completeness. warnings checks supressed. output shows completeness checks combined files long format. row applies specific completeness check parameter. total observations (obs) parameter also shown, repeated parameter across rows calculate percentages. check column shows relevant activity type assessed completeness, count columns shows number observations apply check, standard shows relevant percentage required quality control check quality control objectives file, percent column shows calculated percent taken input data, met column shows standard met comparing percent greater equal standard.","code":"tab_completeness(res = resdat, frecom = frecomdat, type = 'summary') #> Warning in qc_completeness(res = res, frecom = frecom, runchk = runchk, : #> Parameters in quality control objectives for completeness not found in results #> data: Chloride tab_completeness(res = resdat, frecom = frecomdat, type = 'percent') #> Warning in qc_completeness(res = res, frecom = frecom, runchk = runchk, : #> Parameters in quality control objectives for completeness not found in results #> data: Chloride qc_completeness(res = resdat, frecom = frecomdat) #> Warning in qc_completeness(res = resdat, frecom = frecomdat): Parameters in #> quality control objectives for completeness not found in results data: Chloride #> # A tibble: 60 × 7 #>    Parameter   obs check                count standard percent met   #>    <chr>     <int> <chr>                <int>    <dbl>   <dbl> <lgl> #>  1 Ammonia     152 Field Duplicate          0       10    0    FALSE #>  2 Ammonia     152 Lab Duplicate            0        5    0    FALSE #>  3 Ammonia     152 Field Blank              7       10    4.61 FALSE #>  4 Ammonia     152 Lab Blank                7        5    4.61 FALSE #>  5 Ammonia     152 Spike/Check Accuracy     0        5    0    FALSE #>  6 Ammonia     152 % Completeness         138       90   90.8  TRUE  #>  7 Chl a        18 Field Duplicate          0       10    0    FALSE #>  8 Chl a        18 Lab Duplicate            0        5    0    FALSE #>  9 Chl a        18 Field Blank              0       10    0    FALSE #> 10 Chl a        18 Lab Blank                0        5    0    FALSE #> # … with 50 more rows"},{"path":"https://massbays-tech.github.io/MassWateR/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Marcus Beck. Author, maintainer. Jill Carr. Author. Ben Wetherill. Author. Pam DiBona. Author.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Beck M, Carr J, Wetherill B, DiBona P (2022). MassWateR: Tools QAQC Exploratory Analysis Massachusetts Surface Water Quality Data. https://github.com/massbays-tech/MassWateR, https://massbays-tech.github.io/MassWateR.","code":"@Manual{,   title = {MassWateR: Tools for QAQC and Exploratory Analysis of Massachusetts Surface Water Quality Data},   author = {Marcus Beck and Jill Carr and Ben Wetherill and Pam DiBona},   year = {2022},   note = {https://github.com/massbays-tech/MassWateR, https://massbays-tech.github.io/MassWateR}, }"},{"path":"https://massbays-tech.github.io/MassWateR/index.html","id":"masswater","dir":"","previous_headings":"","what":"Tools for QAQC and Exploratory Analysis of Massachusetts Surface Water Quality Data","title":"Tools for QAQC and Exploratory Analysis of Massachusetts Surface Water Quality Data","text":"R package working Massachusetts surface water quality data, created partnership Mass Bays National Estuary Partnership.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Tools for QAQC and Exploratory Analysis of Massachusetts Surface Water Quality Data","text":"package can installed follows:","code":"# Enable universe(s) by massbays-tech options(repos = c(   massbaystech = 'https://massbays-tech.r-universe.dev',   CRAN = 'https://cloud.r-project.org'))  # Install the package install.packages('MassWateR')"},{"path":"https://massbays-tech.github.io/MassWateR/index.html","id":"using-the-package","dir":"","previous_headings":"","what":"Using the package","title":"Tools for QAQC and Exploratory Analysis of Massachusetts Surface Water Quality Data","text":"Please see vignette articles overview use functions MassWateR package. vignettes organized topically follows: MassWateR data input checks: Information datasets required use package, required formats import R, checks run data imported. MassWateR quality control functions: Information using quality control functions assess completeness accuracy results data surface water quality generate automated reports.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/index.html","id":"issues-and-suggestions","dir":"","previous_headings":"","what":"Issues and suggestions","title":"Tools for QAQC and Exploratory Analysis of Massachusetts Surface Water Quality Data","text":"Please report issues suggestions issues link repository.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"Tools for QAQC and Exploratory Analysis of Massachusetts Surface Water Quality Data","text":"Please view contributing guidelines changes pull requests.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/index.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Tools for QAQC and Exploratory Analysis of Massachusetts Surface Water Quality Data","text":"Please note MassWateR project released Contributor Code Conduct. contributing project, agree abide terms.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/check_acc.html","id":null,"dir":"Reference","previous_headings":"","what":"Check data quality objective accuracy data — check_acc","title":"Check data quality objective accuracy data — check_acc","text":"Check data quality objective accuracy data","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/check_acc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check data quality objective accuracy data — check_acc","text":"","code":"check_acc(accdat)"},{"path":"https://massbays-tech.github.io/MassWateR/reference/check_acc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check data quality objective accuracy data — check_acc","text":"accdat input data frame","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/check_acc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check data quality objective accuracy data — check_acc","text":"accdat returned errors found, otherwise informative error message returned prompting user make required correction raw data proceeding.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/check_acc.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check data quality objective accuracy data — check_acc","text":"function used internally within read_acc run several checks input data completeness conformance WQX requirements following checks made: Column name spelling: following: Parameter, uom, MDL, UQL, Value Range, Field Duplicate, Lab Duplicate, Field Blank, Lab Blank, Spike/Check Accuracy Columns present: columns previous check present Non-numeric values MDL, UQL: Values entered columns MDL UQL numeric Unrecognized characters: Fields describing accuracy checks include symbols text \\(<=\\), \\(\\leq\\), \\(<\\), \\(>=\\), \\(\\geq\\), \\(>\\), \\(\\pm\\), %, BDL, AQL, log, Parameter: match parameter names Simple Parameter WQX Parameter columns params data Units: missing entries units (uom), except pH can blank Single unit: unique Parameter one type units (uom) Correct units: unique Parameter entry units (uom) matches one acceptable values Units measure column params data","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/check_acc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check data quality objective accuracy data — check_acc","text":"","code":"accpth <- system.file('extdata/ExampleDQOAccuracy_final.xlsx', package = 'MassWateR')  accdat <- readxl::read_excel(accpth, na = c('NA', 'na', ''))         check_acc(accdat) #> Running checks on data quality objectives for accuracy... #> \tChecking column names... OK #> \tChecking all required columns are present... OK #> \tChecking for non-numeric values in MDL, UQL... OK #> \tChecking for text other than <=, ≤, <, >=, ≥, >, ±, %, AQL, BQL, log, or all... OK #> \tChecking Parameter formats... OK #> \tChecking for missing entries for unit (uom)... OK #> \tChecking if more than one unit (uom) per Parameter... OK #> \tChecking acceptable units (uom) for each entry in Parameter... OK #>  #> All checks passed! #> # A tibble: 21 × 10 #>    Parameter    uom     MDL   UQL `Value Range` `Field Duplica…` `Lab Duplicate` #>    <chr>        <chr> <dbl> <dbl> <chr>         <chr>            <chr>           #>  1 Water Temp   deg C NA       NA all           <= 10%           <= 10%          #>  2 pH           s.u.  NA       NA all           0.5              0.5             #>  3 DO           mg/l   0.1     NA < 4           <= 20%           <= 20%          #>  4 DO           mg/l   0.1     NA >= 4          <= 10%           <= 10%          #>  5 Conductivity uS/cm  1       NA < 250         <= 30%           <= 20%          #>  6 Conductivity uS/cm  1       NA >= 250        <= 20%           <= 10%          #>  7 TSS          mg/l   1       NA < 3           1                <= 20%          #>  8 TSS          mg/l   1       NA >= 3          <= 30%           <= 20%          #>  9 TP           mg/l   0.01    NA < 0.05        0.02             0.01            #> 10 TP           mg/l   0.01    NA >= 0.05       <= 30%           <= 20%          #> # … with 11 more rows, and 3 more variables: `Field Blank` <chr>, #> #   `Lab Blank` <chr>, `Spike/Check Accuracy` <dbl>"},{"path":"https://massbays-tech.github.io/MassWateR/reference/check_frecom.html","id":null,"dir":"Reference","previous_headings":"","what":"Check data quality objective frequency and completeness data — check_frecom","title":"Check data quality objective frequency and completeness data — check_frecom","text":"Check data quality objective frequency completeness data","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/check_frecom.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check data quality objective frequency and completeness data — check_frecom","text":"","code":"check_frecom(frecomdat)"},{"path":"https://massbays-tech.github.io/MassWateR/reference/check_frecom.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check data quality objective frequency and completeness data — check_frecom","text":"frecomdat input data frame","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/check_frecom.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check data quality objective frequency and completeness data — check_frecom","text":"frecomdat returned errors found, otherwise informative error message returned prompting user make required correction raw data proceeding.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/check_frecom.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check data quality objective frequency and completeness data — check_frecom","text":"function used internally within read_frecom run several checks input data frequency completeness conformance WQX requirements following checks made: Column name spelling: following: Parameter, Field Duplicate, Lab Duplicate, Field Blank, Lab Blank, Spike/Check Accuracy, % Completeness Columns present: columns previous check present Non-numeric values: Values entered columns first numeric Values outside 0 - 100: Values entered columns first outside 0 100 Parameter: match parameter names Simple Parameter WQX Parameter columns params data","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/check_frecom.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check data quality objective frequency and completeness data — check_frecom","text":"","code":"library(dplyr) #>  #> Attaching package: ‘dplyr’ #> The following objects are masked from ‘package:stats’: #>  #>     filter, lag #> The following objects are masked from ‘package:base’: #>  #>     intersect, setdiff, setequal, union  frecompth <- system.file('extdata/ExampleDQOFrequencyCompleteness_final.xlsx',       package = 'MassWateR')  frecomdat <- suppressMessages(readxl::read_excel(frecompth,        skip = 1, na = c('NA', 'na', ''),        col_types = c('text', 'numeric', 'numeric', 'numeric', 'numeric', 'numeric', 'numeric')     )) %>%      rename(`% Completeness` = `...7`)      check_frecom(frecomdat) #> Running checks on data quality objectives for frequency and completeness... #> \tChecking column names... OK #> \tChecking all required columns are present... OK #> \tChecking for non-numeric values... OK #> \tChecking for values outside of 0 and 100... OK #> \tChecking Parameter formats... OK #>  #> All checks passed! #> # A tibble: 11 × 7 #>    Parameter    `Field Duplicate` `Lab Duplicate` `Field Blank` `Lab Blank` #>    <chr>                    <dbl>           <dbl>         <dbl>       <dbl> #>  1 Water Temp                  10              10            NA          NA #>  2 pH                          10              10            NA          NA #>  3 DO                          10              10            NA          10 #>  4 Conductivity                10              10            NA          10 #>  5 TSS                         10               5            10           5 #>  6 TP                          10               5            10           5 #>  7 Ortho P                     10               5            10           5 #>  8 Nitrate                     10               5            10           5 #>  9 Ammonia                     10               5            10           5 #> 10 Chloride                    10               5            10           5 #> 11 Chl a                       10               5            10           5 #> # … with 2 more variables: `Spike/Check Accuracy` <dbl>, `% Completeness` <dbl>"},{"path":"https://massbays-tech.github.io/MassWateR/reference/check_results.html","id":null,"dir":"Reference","previous_headings":"","what":"Check water quality monitoring results — check_results","title":"Check water quality monitoring results — check_results","text":"Check water quality monitoring results","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/check_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check water quality monitoring results — check_results","text":"","code":"check_results(resdat)"},{"path":"https://massbays-tech.github.io/MassWateR/reference/check_results.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check water quality monitoring results — check_results","text":"resdat input data frame results","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/check_results.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check water quality monitoring results — check_results","text":"resdat returned errors found, otherwise informative error message returned prompting user make required correction raw data proceeding. Checks warnings can fixed discretion user proceeding.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/check_results.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check water quality monitoring results — check_results","text":"function used internally within read_results run several checks input data completeness conformance WQX requirements. following checks made: Column name spelling: following: Monitoring Location ID, Activity Type, Activity Start Date, Activity Start Time, Activity Depth/Height Measure, Activity Depth/Height Unit, Activity Relative Depth Name, Characteristic Name, Result Value, Result Unit, Quantitation Limit, QC Reference Value, Result Measure Qualifier, Result Attribute. Columns present: columns previous check present, Result Attribute optional Activity Type: one Field Msr/Obs, Sample-Routine, Quality Control Sample-Field Blank, Quality Control Sample-Lab Blank, Quality Control Sample-Lab Duplicate, Quality Control Sample-Lab Spike Date formats: mm/dd/yyyy parsed correctly import Time formats: HH:MM parsed correctly import Non-numeric Activity Depth/Height Measure: depth values numbers, excluding missing values Activity Depth/Height Unit: entries ft, m, blank Activity Depth/Height Measure range: depth values less equal 1 meter 3.3 feet (warning ) Activity Relative Depth Name: either Surface, Bottom, Midwater, Near Bottom, blank (warning ) Characteristic Name: match parameter names Simple Parameter WQX Parameter columns params data Result Value: numeric value text value AQL BDL QC Reference Value: numeric value text value AQL BDL Result Unit: missing entries Result Unit, except pH can blank Single Result Unit: unique parameter Characteristic Name one entry Result Unit Correct Result Unit: unique parameter Characteristic Name entry Result Unit matches one acceptable values Units measure column params data","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/check_results.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check water quality monitoring results — check_results","text":"","code":"respth <- system.file('extdata/ExampleResults_final.xlsx', package = 'MassWateR')  resdat <- readxl::read_excel(respth,    col_types = c('text', 'text', 'date', 'date', 'text', 'text', 'text', 'text', 'text', 'text',               'text', 'text', 'text', 'text'))               check_results(resdat) #> Running checks on results data... #> \tChecking column names... OK #> \tChecking all required columns are present... OK #> \tChecking valid Activity Types... OK #> \tChecking Activity Start Date formats... OK #> \tChecking Activity Start Time formats... OK #> \tChecking for non-numeric values in Activity Depth/Height Measure... OK #> \tChecking Activity Depth/Height Unit... OK #> \tChecking values in Activity Depth/Height Measure > 1 m / 3.3 ft... OK #> \tChecking Activity Relative Depth Name formats... OK #> \tChecking Characteristic Name formats... OK #> \tChecking Result Values... OK #> \tChecking QC Reference Values... OK #> \tChecking for missing entries for Result Unit... OK #> \tChecking if more than one unit per Characteristic Name... OK #> \tChecking acceptable units for each entry in Characteristic Name... OK #>  #> All checks passed! #> # A tibble: 2,586 × 14 #>    `Monitoring Locatio…` `Activity Type` `Activity Start D…` `Activity Start T…` #>    <chr>                 <chr>           <dttm>              <dttm>              #>  1 HBS-016               Field Msr/Obs   2021-01-14 00:00:00 1899-12-31 09:22:00 #>  2 HBS-057               Field Msr/Obs   2021-01-14 00:00:00 1899-12-31 10:30:00 #>  3 HBS-016               Sample-Routine  2021-01-14 00:00:00 1899-12-31 09:22:00 #>  4 HBS-016               Sample-Routine  2021-01-14 00:00:00 1899-12-31 09:22:00 #>  5 LND-007               Field Msr/Obs   2021-01-14 00:00:00 1899-12-31 09:50:00 #>  6 HBS-076               Field Msr/Obs   2021-01-14 00:00:00 1899-12-31 11:58:00 #>  7 LND-007               Sample-Routine  2021-01-14 00:00:00 1899-12-31 09:50:00 #>  8 LND-007               Sample-Routine  2021-01-14 00:00:00 1899-12-31 09:50:00 #>  9 HBS-031               Field Msr/Obs   2021-01-14 00:00:00 1899-12-31 10:05:00 #> 10 LND-007               Field Msr/Obs   2021-02-15 00:00:00 1899-12-31 09:16:00 #> # … with 2,576 more rows, and 10 more variables: #> #   `Activity Depth/Height Measure` <chr>, `Activity Depth/Height Unit` <chr>, #> #   `Activity Relative Depth Name` <chr>, `Characteristic Name` <chr>, #> #   `Result Value` <chr>, `Result Unit` <chr>, `Quantitation Limit` <chr>, #> #   `QC Reference Value` <chr>, `Result Measure Qualifier` <chr>, #> #   `Result Attribute` <chr>"},{"path":"https://massbays-tech.github.io/MassWateR/reference/check_sites.html","id":null,"dir":"Reference","previous_headings":"","what":"Check site metadata file — check_sites","title":"Check site metadata file — check_sites","text":"Check site metadata file","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/check_sites.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check site metadata file — check_sites","text":"","code":"check_sites(sitdat)"},{"path":"https://massbays-tech.github.io/MassWateR/reference/check_sites.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check site metadata file — check_sites","text":"sitdat input data frame","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/check_sites.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check site metadata file — check_sites","text":"sitdat returned errors found, otherwise informative error message returned prompting user make required correction raw data proceeding.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/check_sites.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check site metadata file — check_sites","text":"function used internally within read_sites run several checks input data completeness conformance WQX requirements following checks made: Column name spelling: following: Monitoring Location ID, Monitoring Location Name, Monitoring Location Latitude, Monitoring Location Longitude, Location Group Columns present: columns previous check present Missing longitude latitude: missing entries Monitoring Location Latitude Monitoring Location Longitude Non-numeric latitude values: Values entered Monitoring Location Latitude must numeric Non-numeric longitude values: Values entered Monitoring Location Longitude must numeric Positive longitude values: Values Monitoring Location Longitude must negative Missing Location ID: missing entries Monitoring Location ID","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/check_sites.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check site metadata file — check_sites","text":"","code":"library(dplyr)  sitpth <- system.file('extdata/ExampleSites_final.xlsx', package = 'MassWateR')  sitdat <- readxl::read_excel(sitpth, na = c('NA', 'na', ''))      check_sites(sitdat) #> Running checks on site metadata... #> \tChecking column names... OK #> \tChecking all required columns are present... OK #> \tChecking for missing latitude or longitude values... OK #> \tChecking for non-numeric values in latitude... OK #> \tChecking for non-numeric values in longitude... OK #> \tChecking for positive values in longitude... OK #> \tChecking for missing entries for Monitoring Location ID... OK #>  #> All checks passed! #> # A tibble: 58 × 5 #>    `Monitoring Location ID` `Monitoring Loca…` `Monitoring Lo…` `Monitoring Lo…` #>    <chr>                    <chr>                         <dbl>            <dbl> #>  1 ABT-010                  477 Lowell Rd, Co…             42.5            -71.4 #>  2 ABT-026                  Rte 2, Concord                 42.5            -71.4 #>  3 ABT-033                  Rte 62, W Concord              42.5            -71.4 #>  4 ABT-044                  Rte 62 (Damonmill…             42.5            -71.4 #>  5 ABT-047                  Damonmill dam                  42.5            -71.4 #>  6 ABT-062                  Rte 62, Acton                  42.4            -71.4 #>  7 ABT-063                  Rte 62, Acton ups…             42.4            -71.4 #>  8 ABT-077                  Rte 27/USGS, Mayn…             42.4            -71.4 #>  9 ABT-095                  White Pond Rd, St…             42.4            -71.5 #> 10 ABT-134                  Sudbury Rd, Stow               42.4            -71.5 #> # … with 48 more rows, and 1 more variable: `Location Group` <chr>"},{"path":"https://massbays-tech.github.io/MassWateR/reference/form_acc.html","id":null,"dir":"Reference","previous_headings":"","what":"Format data quality objective accuracy data — form_acc","title":"Format data quality objective accuracy data — form_acc","text":"Format data quality objective accuracy data","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/form_acc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format data quality objective accuracy data — form_acc","text":"","code":"form_acc(accdat)"},{"path":"https://massbays-tech.github.io/MassWateR/reference/form_acc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format data quality objective accuracy data — form_acc","text":"accdat input data fram","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/form_acc.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Format data quality objective accuracy data — form_acc","text":"function used internally within read_acc format input data downstream analysis.  formatting includes: Convert Parameter: parameters converted Simple Parameter params needed","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/form_acc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Format data quality objective accuracy data — form_acc","text":"","code":"accpth <- system.file('extdata/ExampleDQOAccuracy_final.xlsx', package = 'MassWateR')  accdat <- readxl::read_excel(accpth, na = c('NA', 'na', ''))   form_acc(accdat) #> # A tibble: 21 × 10 #>    Parameter    uom     MDL   UQL `Value Range` `Field Duplica…` `Lab Duplicate` #>    <chr>        <chr> <dbl> <dbl> <chr>         <chr>            <chr>           #>  1 Water Temp   deg C NA       NA all           <= 10%           <= 10%          #>  2 pH           s.u.  NA       NA all           0.5              0.5             #>  3 DO           mg/l   0.1     NA < 4           <= 20%           <= 20%          #>  4 DO           mg/l   0.1     NA >= 4          <= 10%           <= 10%          #>  5 Conductivity uS/cm  1       NA < 250         <= 30%           <= 20%          #>  6 Conductivity uS/cm  1       NA >= 250        <= 20%           <= 10%          #>  7 TSS          mg/l   1       NA < 3           1                <= 20%          #>  8 TSS          mg/l   1       NA >= 3          <= 30%           <= 20%          #>  9 TP           mg/l   0.01    NA < 0.05        0.02             0.01            #> 10 TP           mg/l   0.01    NA >= 0.05       <= 30%           <= 20%          #> # … with 11 more rows, and 3 more variables: `Field Blank` <chr>, #> #   `Lab Blank` <chr>, `Spike/Check Accuracy` <dbl>"},{"path":"https://massbays-tech.github.io/MassWateR/reference/form_frecom.html","id":null,"dir":"Reference","previous_headings":"","what":"Format data quality objective frequency and completeness data — form_frecom","title":"Format data quality objective frequency and completeness data — form_frecom","text":"Format data quality objective frequency completeness data","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/form_frecom.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format data quality objective frequency and completeness data — form_frecom","text":"","code":"form_frecom(frecomdat)"},{"path":"https://massbays-tech.github.io/MassWateR/reference/form_frecom.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format data quality objective frequency and completeness data — form_frecom","text":"frecomdat input data frame","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/form_frecom.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Format data quality objective frequency and completeness data — form_frecom","text":"function used internally within read_frecom format input data downstream analysis.  formatting includes: Convert Parameter: parameters converted Simple Parameter params needed","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/form_frecom.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Format data quality objective frequency and completeness data — form_frecom","text":"","code":"library(dplyr)  frecompth <- system.file('extdata/ExampleDQOFrequencyCompleteness_final.xlsx',       package = 'MassWateR')  frecomdat <- suppressMessages(readxl::read_excel(frecompth,        skip = 1, na = c('NA', 'na', ''),        col_types = c('text', 'numeric', 'numeric', 'numeric', 'numeric', 'numeric', 'numeric')     )) %>%      rename(`% Completeness` = `...7`)      form_frecom(frecomdat) #> # A tibble: 11 × 7 #>    Parameter    `Field Duplicate` `Lab Duplicate` `Field Blank` `Lab Blank` #>    <chr>                    <dbl>           <dbl>         <dbl>       <dbl> #>  1 Water Temp                  10              10            NA          NA #>  2 pH                          10              10            NA          NA #>  3 DO                          10              10            NA          10 #>  4 Conductivity                10              10            NA          10 #>  5 TSS                         10               5            10           5 #>  6 TP                          10               5            10           5 #>  7 Ortho P                     10               5            10           5 #>  8 Nitrate                     10               5            10           5 #>  9 Ammonia                     10               5            10           5 #> 10 Chloride                    10               5            10           5 #> 11 Chl a                       10               5            10           5 #> # … with 2 more variables: `Spike/Check Accuracy` <dbl>, `% Completeness` <dbl>"},{"path":"https://massbays-tech.github.io/MassWateR/reference/form_results.html","id":null,"dir":"Reference","previous_headings":"","what":"Format water quality monitoring results — form_results","title":"Format water quality monitoring results — form_results","text":"Format water quality monitoring results","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/form_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format water quality monitoring results — form_results","text":"","code":"form_results(resdat, tzone = \"America/Jamaica\")"},{"path":"https://massbays-tech.github.io/MassWateR/reference/form_results.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format water quality monitoring results — form_results","text":"resdat input data frame results tzone character string time zone","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/form_results.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Format water quality monitoring results — form_results","text":"function used internally within read_results format input data downstream analysis.  formatting includes: Fix date time inputs: Activity Start Date converted YYYY-MM-DD date object, Actvity Start Time convered HH:MM character fix artifacts Excel import, Minor formatting Result Unit: conformance WQX, e.g., ppt changed ppth, s.u. changed NA Convert characteristic names: parameters Characteristic Name converted Simple Parameter params needed","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/form_results.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Format water quality monitoring results — form_results","text":"","code":"respth <- system.file('extdata/ExampleResults_final.xlsx', package = 'MassWateR')  resdat <- readxl::read_excel(respth,    col_types = c('text', 'text', 'date', 'date', 'text', 'text', 'text', 'text', 'text', 'text',               'text', 'text', 'text', 'text')) form_results(resdat) #> # A tibble: 2,586 × 14 #>    `Monitoring Location ID` `Activity Type` `Activity Start D…` `Activity Star…` #>    <chr>                    <chr>           <date>              <chr>            #>  1 HBS-016                  Field Msr/Obs   2021-01-14          09:22            #>  2 HBS-057                  Field Msr/Obs   2021-01-14          10:30            #>  3 HBS-016                  Sample-Routine  2021-01-14          09:22            #>  4 HBS-016                  Sample-Routine  2021-01-14          09:22            #>  5 LND-007                  Field Msr/Obs   2021-01-14          09:50            #>  6 HBS-076                  Field Msr/Obs   2021-01-14          11:58            #>  7 LND-007                  Sample-Routine  2021-01-14          09:50            #>  8 LND-007                  Sample-Routine  2021-01-14          09:50            #>  9 HBS-031                  Field Msr/Obs   2021-01-14          10:05            #> 10 LND-007                  Field Msr/Obs   2021-02-15          09:16            #> # … with 2,576 more rows, and 10 more variables: #> #   `Activity Depth/Height Measure` <chr>, `Activity Depth/Height Unit` <chr>, #> #   `Activity Relative Depth Name` <chr>, `Characteristic Name` <chr>, #> #   `Result Value` <chr>, `Result Unit` <chr>, `Quantitation Limit` <chr>, #> #   `QC Reference Value` <chr>, `Result Measure Qualifier` <chr>, #> #   `Result Attribute` <chr>"},{"path":"https://massbays-tech.github.io/MassWateR/reference/params.html","id":null,"dir":"Reference","previous_headings":"","what":"Master parameter list and units for Characteristic Name column in results data — params","title":"Master parameter list and units for Characteristic Name column in results data — params","text":"Master parameter list units Characteristic Name column results data","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/params.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Master parameter list and units for Characteristic Name column in results data — params","text":"","code":"params"},{"path":"https://massbays-tech.github.io/MassWateR/reference/params.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Master parameter list and units for Characteristic Name column in results data — params","text":"data.frame 39 rows 5 columns","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/params.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Master parameter list and units for Characteristic Name column in results data — params","text":"information used verify correct format input results data form_results.  column showing corresponding WQX names also included.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/params.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Master parameter list and units for Characteristic Name column in results data — params","text":"","code":"if (FALSE) { library(readxl) library(dplyr)  params <- read_excel('inst/extdata/ParameterMapping_final.xlsx') %>%    rename(Note = `...5`)  save(params, file = 'data/params.RData', compress = 'xz') }"},{"path":"https://massbays-tech.github.io/MassWateR/reference/qc_completeness.html","id":null,"dir":"Reference","previous_headings":"","what":"Run quality control completeness checks for water quality monitoring results — qc_completeness","title":"Run quality control completeness checks for water quality monitoring results — qc_completeness","text":"Run quality control completeness checks water quality monitoring results","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/qc_completeness.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run quality control completeness checks for water quality monitoring results — qc_completeness","text":"","code":"qc_completeness(res, frecom, runchk = TRUE, warn = TRUE)"},{"path":"https://massbays-tech.github.io/MassWateR/reference/qc_completeness.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run quality control completeness checks for water quality monitoring results — qc_completeness","text":"res character string path eresults file data.frame results returned read_results frecom character string path data quality objectives file completeness data.frame returned read_frecom runchk logical run data checks check_results check_frecom, applies res frecom file paths warn logical return warnings console (default)","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/qc_completeness.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run quality control completeness checks for water quality monitoring results — qc_completeness","text":"summarized data.frame completeness results quality control long format.  row applies specific completeness check parameter. total observations (obs) parameter also shown, repeated parameter across rows calculate percentages.  check column shows relevant activity type assessed completeness, count columns shows number observations apply check, standard shows relevant percentage required quality control check quality control objectives file, percent column shows calculated percent taken input data, met column shows standard met comparing percent greater equal standard.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/qc_completeness.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Run quality control completeness checks for water quality monitoring results — qc_completeness","text":"function can used inputs paths relevant files data frames returned read_results read_frecom.  former, full suite data checks can evaluated runkchk = T (default) suppressed runchk = F.  latter case, downstream analyses may work data formatted incorrectly. Note completeness evaluated parameters Parameter column data quality objectives completeness file.  warning returned parameters column found results file.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/qc_completeness.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run quality control completeness checks for water quality monitoring results — qc_completeness","text":"","code":"## # using file paths  # results path respth <- system.file('extdata/ExampleResults_final.xlsx', package = 'MassWateR')  # completeness path frecompth <- system.file('extdata/ExampleDQOFrequencyCompleteness_final.xlsx',       package = 'MassWateR')  qc_completeness(res = respth, frecom = frecompth) #> Running checks on results data... #> \tChecking column names... OK #> \tChecking all required columns are present... OK #> \tChecking valid Activity Types... OK #> \tChecking Activity Start Date formats... OK #> \tChecking Activity Start Time formats... OK #> \tChecking for non-numeric values in Activity Depth/Height Measure... OK #> \tChecking Activity Depth/Height Unit... OK #> \tChecking values in Activity Depth/Height Measure > 1 m / 3.3 ft... OK #> \tChecking Activity Relative Depth Name formats... OK #> \tChecking Characteristic Name formats... OK #> \tChecking Result Values... OK #> \tChecking QC Reference Values... OK #> \tChecking for missing entries for Result Unit... OK #> \tChecking if more than one unit per Characteristic Name... OK #> \tChecking acceptable units for each entry in Characteristic Name... OK #>  #> All checks passed! #> Running checks on data quality objectives for frequency and completeness... #> \tChecking column names... OK #> \tChecking all required columns are present... OK #> \tChecking for non-numeric values... OK #> \tChecking for values outside of 0 and 100... OK #> \tChecking Parameter formats... OK #>  #> All checks passed! #> Warning: Parameters in quality control objectives for completeness not found in results data: Chloride #> # A tibble: 60 × 7 #>    Parameter   obs check                count standard percent met   #>    <chr>     <int> <chr>                <int>    <dbl>   <dbl> <lgl> #>  1 Ammonia     152 Field Duplicate          0       10    0    FALSE #>  2 Ammonia     152 Lab Duplicate            0        5    0    FALSE #>  3 Ammonia     152 Field Blank              7       10    4.61 FALSE #>  4 Ammonia     152 Lab Blank                7        5    4.61 FALSE #>  5 Ammonia     152 Spike/Check Accuracy     0        5    0    FALSE #>  6 Ammonia     152 % Completeness         138       90   90.8  TRUE  #>  7 Chl a        18 Field Duplicate          0       10    0    FALSE #>  8 Chl a        18 Lab Duplicate            0        5    0    FALSE #>  9 Chl a        18 Field Blank              0       10    0    FALSE #> 10 Chl a        18 Lab Blank                0        5    0    FALSE #> # … with 50 more rows  ## # using data frames  # results data resdat <- read_results(respth) #> Running checks on results data... #> \tChecking column names... OK #> \tChecking all required columns are present... OK #> \tChecking valid Activity Types... OK #> \tChecking Activity Start Date formats... OK #> \tChecking Activity Start Time formats... OK #> \tChecking for non-numeric values in Activity Depth/Height Measure... OK #> \tChecking Activity Depth/Height Unit... OK #> \tChecking values in Activity Depth/Height Measure > 1 m / 3.3 ft... OK #> \tChecking Activity Relative Depth Name formats... OK #> \tChecking Characteristic Name formats... OK #> \tChecking Result Values... OK #> \tChecking QC Reference Values... OK #> \tChecking for missing entries for Result Unit... OK #> \tChecking if more than one unit per Characteristic Name... OK #> \tChecking acceptable units for each entry in Characteristic Name... OK #>  #> All checks passed!  # completeness data frecomdat <- read_frecom(frecompth) #> Running checks on data quality objectives for frequency and completeness... #> \tChecking column names... OK #> \tChecking all required columns are present... OK #> \tChecking for non-numeric values... OK #> \tChecking for values outside of 0 and 100... OK #> \tChecking Parameter formats... OK #>  #> All checks passed!  qc_completeness(res = resdat, frecom = frecomdat) #> Warning: Parameters in quality control objectives for completeness not found in results data: Chloride #> # A tibble: 60 × 7 #>    Parameter   obs check                count standard percent met   #>    <chr>     <int> <chr>                <int>    <dbl>   <dbl> <lgl> #>  1 Ammonia     152 Field Duplicate          0       10    0    FALSE #>  2 Ammonia     152 Lab Duplicate            0        5    0    FALSE #>  3 Ammonia     152 Field Blank              7       10    4.61 FALSE #>  4 Ammonia     152 Lab Blank                7        5    4.61 FALSE #>  5 Ammonia     152 Spike/Check Accuracy     0        5    0    FALSE #>  6 Ammonia     152 % Completeness         138       90   90.8  TRUE  #>  7 Chl a        18 Field Duplicate          0       10    0    FALSE #>  8 Chl a        18 Lab Duplicate            0        5    0    FALSE #>  9 Chl a        18 Field Blank              0       10    0    FALSE #> 10 Chl a        18 Lab Blank                0        5    0    FALSE #> # … with 50 more rows"},{"path":"https://massbays-tech.github.io/MassWateR/reference/read_acc.html","id":null,"dir":"Reference","previous_headings":"","what":"Read data quality objectives for accuracy from an external file — read_acc","title":"Read data quality objectives for accuracy from an external file — read_acc","text":"Read data quality objectives accuracy external file","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/read_acc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read data quality objectives for accuracy from an external file — read_acc","text":"","code":"read_acc(accpth, runchk = TRUE)"},{"path":"https://massbays-tech.github.io/MassWateR/reference/read_acc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read data quality objectives for accuracy from an external file — read_acc","text":"accpth character string path data quality objectives file accuracy runchk logical run data checks check_acc","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/read_acc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read data quality objectives for accuracy from an external file — read_acc","text":"formatted data frame data quality objectives completeness can used downstream analysis","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/read_acc.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Read data quality objectives for accuracy from an external file — read_acc","text":"Data imported read_excel checked check_acc.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/read_acc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read data quality objectives for accuracy from an external file — read_acc","text":"","code":"accpth <- system.file('extdata/ExampleDQOAccuracy_final.xlsx', package = 'MassWateR')  accdat <- read_acc(accpth) #> Running checks on data quality objectives for accuracy... #> \tChecking column names... OK #> \tChecking all required columns are present... OK #> \tChecking for non-numeric values in MDL, UQL... OK #> \tChecking for text other than <=, ≤, <, >=, ≥, >, ±, %, AQL, BQL, log, or all... OK #> \tChecking Parameter formats... OK #> \tChecking for missing entries for unit (uom)... OK #> \tChecking if more than one unit (uom) per Parameter... OK #> \tChecking acceptable units (uom) for each entry in Parameter... OK #>  #> All checks passed! head(accdat) #> # A tibble: 6 × 10 #>   Parameter    uom     MDL   UQL `Value Range` `Field Duplicate` `Lab Duplicate` #>   <chr>        <chr> <dbl> <dbl> <chr>         <chr>             <chr>           #> 1 Water Temp   deg C  NA      NA all           <= 10%            <= 10%          #> 2 pH           s.u.   NA      NA all           0.5               0.5             #> 3 DO           mg/l    0.1    NA < 4           <= 20%            <= 20%          #> 4 DO           mg/l    0.1    NA >= 4          <= 10%            <= 10%          #> 5 Conductivity uS/cm   1      NA < 250         <= 30%            <= 20%          #> 6 Conductivity uS/cm   1      NA >= 250        <= 20%            <= 10%          #> # … with 3 more variables: `Field Blank` <chr>, `Lab Blank` <chr>, #> #   `Spike/Check Accuracy` <dbl>"},{"path":"https://massbays-tech.github.io/MassWateR/reference/read_frecom.html","id":null,"dir":"Reference","previous_headings":"","what":"Read data quality objectives for frequency and completeness from an external file — read_frecom","title":"Read data quality objectives for frequency and completeness from an external file — read_frecom","text":"Read data quality objectives frequency completeness external file","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/read_frecom.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read data quality objectives for frequency and completeness from an external file — read_frecom","text":"","code":"read_frecom(frecompth, runchk = TRUE)"},{"path":"https://massbays-tech.github.io/MassWateR/reference/read_frecom.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read data quality objectives for frequency and completeness from an external file — read_frecom","text":"frecompth character string path data quality objectives file frequency completeness runchk logical run data checks check_frecom","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/read_frecom.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read data quality objectives for frequency and completeness from an external file — read_frecom","text":"formatted data frame data quality objectives frequency completeness can used downstream analysis","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/read_frecom.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Read data quality objectives for frequency and completeness from an external file — read_frecom","text":"Data imported read_excel checked check_frecom.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/read_frecom.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read data quality objectives for frequency and completeness from an external file — read_frecom","text":"","code":"frecompth <- system.file('extdata/ExampleDQOFrequencyCompleteness_final.xlsx',       package = 'MassWateR')  frecomdat <- read_frecom(frecompth) #> Running checks on data quality objectives for frequency and completeness... #> \tChecking column names... OK #> \tChecking all required columns are present... OK #> \tChecking for non-numeric values... OK #> \tChecking for values outside of 0 and 100... OK #> \tChecking Parameter formats... OK #>  #> All checks passed! head(frecomdat) #> # A tibble: 6 × 7 #>   Parameter    `Field Duplicate` `Lab Duplicate` `Field Blank` `Lab Blank` #>   <chr>                    <dbl>           <dbl>         <dbl>       <dbl> #> 1 Water Temp                  10              10            NA          NA #> 2 pH                          10              10            NA          NA #> 3 DO                          10              10            NA          10 #> 4 Conductivity                10              10            NA          10 #> 5 TSS                         10               5            10           5 #> 6 TP                          10               5            10           5 #> # … with 2 more variables: `Spike/Check Accuracy` <dbl>, `% Completeness` <dbl>"},{"path":"https://massbays-tech.github.io/MassWateR/reference/read_results.html","id":null,"dir":"Reference","previous_headings":"","what":"Read water quality monitoring results from an external file — read_results","title":"Read water quality monitoring results from an external file — read_results","text":"Read water quality monitoring results external file","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/read_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read water quality monitoring results from an external file — read_results","text":"","code":"read_results(respth, runchk = TRUE, tzone = \"America/Jamaica\")"},{"path":"https://massbays-tech.github.io/MassWateR/reference/read_results.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read water quality monitoring results from an external file — read_results","text":"respth character string path results file runchk logical run data checks check_results tzone character string time zone, passed form_results","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/read_results.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read water quality monitoring results from an external file — read_results","text":"formatted water quality monitoring results data frame can used downstream analysis","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/read_results.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Read water quality monitoring results from an external file — read_results","text":"Date imported read_excel, checked check_results, formatted form_results.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/read_results.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read water quality monitoring results from an external file — read_results","text":"","code":"respth <- system.file('extdata/ExampleResults_final.xlsx', package = 'MassWateR')  resdat <- read_results(respth) #> Running checks on results data... #> \tChecking column names... OK #> \tChecking all required columns are present... OK #> \tChecking valid Activity Types... OK #> \tChecking Activity Start Date formats... OK #> \tChecking Activity Start Time formats... OK #> \tChecking for non-numeric values in Activity Depth/Height Measure... OK #> \tChecking Activity Depth/Height Unit... OK #> \tChecking values in Activity Depth/Height Measure > 1 m / 3.3 ft... OK #> \tChecking Activity Relative Depth Name formats... OK #> \tChecking Characteristic Name formats... OK #> \tChecking Result Values... OK #> \tChecking QC Reference Values... OK #> \tChecking for missing entries for Result Unit... OK #> \tChecking if more than one unit per Characteristic Name... OK #> \tChecking acceptable units for each entry in Characteristic Name... OK #>  #> All checks passed! head(resdat) #> # A tibble: 6 × 14 #>   `Monitoring Location ID` `Activity Type` `Activity Start Da…` `Activity Star…` #>   <chr>                    <chr>           <date>               <chr>            #> 1 HBS-016                  Field Msr/Obs   2021-01-14           09:22            #> 2 HBS-057                  Field Msr/Obs   2021-01-14           10:30            #> 3 HBS-016                  Sample-Routine  2021-01-14           09:22            #> 4 HBS-016                  Sample-Routine  2021-01-14           09:22            #> 5 LND-007                  Field Msr/Obs   2021-01-14           09:50            #> 6 HBS-076                  Field Msr/Obs   2021-01-14           11:58            #> # … with 10 more variables: `Activity Depth/Height Measure` <chr>, #> #   `Activity Depth/Height Unit` <chr>, `Activity Relative Depth Name` <chr>, #> #   `Characteristic Name` <chr>, `Result Value` <chr>, `Result Unit` <chr>, #> #   `Quantitation Limit` <chr>, `QC Reference Value` <chr>, #> #   `Result Measure Qualifier` <chr>, `Result Attribute` <chr>"},{"path":"https://massbays-tech.github.io/MassWateR/reference/read_sites.html","id":null,"dir":"Reference","previous_headings":"","what":"Read site metadata from an external file — read_sites","title":"Read site metadata from an external file — read_sites","text":"Read site metadata external file","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/read_sites.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read site metadata from an external file — read_sites","text":"","code":"read_sites(sitpth, runchk = TRUE)"},{"path":"https://massbays-tech.github.io/MassWateR/reference/read_sites.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read site metadata from an external file — read_sites","text":"sitpth character string path site metadata file runchk logical run data checks check_sites","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/read_sites.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read site metadata from an external file — read_sites","text":"formatted data frame site metadata can used downstream analysis","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/read_sites.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Read site metadata from an external file — read_sites","text":"Data imported read_excel checked check_sites.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/read_sites.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read site metadata from an external file — read_sites","text":"","code":"sitpth <- system.file('extdata/ExampleSites_final.xlsx', package = 'MassWateR')  sitdat <- read_sites(sitpth) #> Running checks on site metadata... #> \tChecking column names... OK #> \tChecking all required columns are present... OK #> \tChecking for missing latitude or longitude values... OK #> \tChecking for non-numeric values in latitude... OK #> \tChecking for non-numeric values in longitude... OK #> \tChecking for positive values in longitude... OK #> \tChecking for missing entries for Monitoring Location ID... OK #>  #> All checks passed! head(sitdat) #> # A tibble: 6 × 5 #>   `Monitoring Location ID` `Monitoring Locat…` `Monitoring Lo…` `Monitoring Lo…` #>   <chr>                    <chr>                          <dbl>            <dbl> #> 1 ABT-010                  477 Lowell Rd, Con…             42.5            -71.4 #> 2 ABT-026                  Rte 2, Concord                  42.5            -71.4 #> 3 ABT-033                  Rte 62, W Concord               42.5            -71.4 #> 4 ABT-044                  Rte 62 (Damonmill)…             42.5            -71.4 #> 5 ABT-047                  Damonmill dam                   42.5            -71.4 #> 6 ABT-062                  Rte 62, Acton                   42.4            -71.4 #> # … with 1 more variable: `Location Group` <chr>"},{"path":"https://massbays-tech.github.io/MassWateR/reference/tab_completeness.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a formatted table of quality control completeness checks — tab_completeness","title":"Create a formatted table of quality control completeness checks — tab_completeness","text":"Create formatted table quality control completeness checks","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/tab_completeness.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a formatted table of quality control completeness checks — tab_completeness","text":"","code":"tab_completeness(   res,   frecom,   runchk = TRUE,   warn = TRUE,   type = c(\"summary\", \"percent\"),   pass_col = \"green\",   fail_col = \"red\",   digits = 0,   suffix = \"%\" )"},{"path":"https://massbays-tech.github.io/MassWateR/reference/tab_completeness.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a formatted table of quality control completeness checks — tab_completeness","text":"res character string path eresults file data.frame results returned read_results frecom character string path data quality objectives file completeness data.frame returned read_frecom runchk logical run data checks check_results check_frecom, applies res frecom file paths warn logical return warnings console (default) type character string indicating summary percentage table returned pass_col character string cell color checks pass, applies type = 'percent' fail_col character string cell color checks fail, applies type = 'percent' digits numeric indicating number significant digits report percentages suffix character string indicating suffix append percentage values","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/tab_completeness.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a formatted table of quality control completeness checks — tab_completeness","text":"flextable object formatted results showing summary counts type = 'summary' percentage observations type = 'percent' completeness checks parameter.","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/tab_completeness.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a formatted table of quality control completeness checks — tab_completeness","text":"function can used inputs paths relevant files data frames returned read_results read_frecom.  former, full suite data checks can evaluated runkchk = T (default) suppressed runchk = F, explained relevant help files.  latter case, downstream analyses may work data formatted incorrectly.  Also note completeness evaluated parameters Parameter column data quality objectives completeness file.  warning returned parameters column found results file.  warning can suppressed setting warn = FALSE. summary table showing total number records, total number qualified records (collected data quality objective checks), percent completeness (difference two) can created setting type = 'summary'.  % Completeness column shows cells green red required percentage observations completeness present specified data quality objectives file. Note warning message returned parameters found data quality objectives file, found results data. Completeness checks done parameters shared two. second table showing percentage observations results file satisfy checks (e.g., percent field duplicates, etc.) can created setting type = 'percent'.  previous table, cells shown green red required percentage observations present check specified data quality objectives file. Inputs results data quality objectives completeness processed internally qc_completeness arguments accepted function, addition others listed .","code":""},{"path":"https://massbays-tech.github.io/MassWateR/reference/tab_completeness.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a formatted table of quality control completeness checks — tab_completeness","text":"","code":"# results path respth <- system.file('extdata/ExampleResults_final.xlsx', package = 'MassWateR')  # completeness path frecompth <- system.file('extdata/ExampleDQOFrequencyCompleteness_final.xlsx',       package = 'MassWateR')  ##  # summary table   tab_completeness(res = respth, frecom = frecompth, type = 'summary') #> Running checks on results data... #> \tChecking column names... OK #> \tChecking all required columns are present... OK #> \tChecking valid Activity Types... OK #> \tChecking Activity Start Date formats... OK #> \tChecking Activity Start Time formats... OK #> \tChecking for non-numeric values in Activity Depth/Height Measure... OK #> \tChecking Activity Depth/Height Unit... OK #> \tChecking values in Activity Depth/Height Measure > 1 m / 3.3 ft... OK #> \tChecking Activity Relative Depth Name formats... OK #> \tChecking Characteristic Name formats... OK #> \tChecking Result Values... OK #> \tChecking QC Reference Values... OK #> \tChecking for missing entries for Result Unit... OK #> \tChecking if more than one unit per Characteristic Name... OK #> \tChecking acceptable units for each entry in Characteristic Name... OK #>  #> All checks passed! #> Running checks on data quality objectives for frequency and completeness... #> \tChecking column names... OK #> \tChecking all required columns are present... OK #> \tChecking for non-numeric values... OK #> \tChecking for values outside of 0 and 100... OK #> \tChecking Parameter formats... OK #>  #> All checks passed! #> Warning: Parameters in quality control objectives for completeness not found in results data: Chloride #> a flextable object. #> col_keys: `Parameter`, `Number of Data Records`, `Number of Qualified Records`, `% Completeness`, `Notes`  #> header has 1 row(s)  #> body has 10 row(s)  #> original dataset sample:  #>      Parameter Number of Data Records Number of Qualified Records #> 1      Ammonia                    152                          14 #> 2        Chl a                     18                           0 #> 3 Conductivity                    208                           9 #> 4           DO                    199                           0 #> 5      Nitrate                    110                          14 #>   % Completeness % Completeness_met Notes #> 1       90.78947                  1       #> 2      100.00000                  1       #> 3       95.67308                  1       #> 4      100.00000                  1       #> 5       87.27273                  0        ##  # percent table   tab_completeness(res = respth, frecom = frecompth, type = 'percent') #> Running checks on results data... #> \tChecking column names... OK #> \tChecking all required columns are present... OK #> \tChecking valid Activity Types... OK #> \tChecking Activity Start Date formats... OK #> \tChecking Activity Start Time formats... OK #> \tChecking for non-numeric values in Activity Depth/Height Measure... OK #> \tChecking Activity Depth/Height Unit... OK #> \tChecking values in Activity Depth/Height Measure > 1 m / 3.3 ft... OK #> \tChecking Activity Relative Depth Name formats... OK #> \tChecking Characteristic Name formats... OK #> \tChecking Result Values... OK #> \tChecking QC Reference Values... OK #> \tChecking for missing entries for Result Unit... OK #> \tChecking if more than one unit per Characteristic Name... OK #> \tChecking acceptable units for each entry in Characteristic Name... OK #>  #> All checks passed! #> Running checks on data quality objectives for frequency and completeness... #> \tChecking column names... OK #> \tChecking all required columns are present... OK #> \tChecking for non-numeric values... OK #> \tChecking for values outside of 0 and 100... OK #> \tChecking Parameter formats... OK #>  #> All checks passed! #> Warning: Parameters in quality control objectives for completeness not found in results data: Chloride #> a flextable object. #> col_keys: `Parameter`, `Field Duplicate`, `Lab Duplicate`, `Field Blank`, `Lab Blank`, `Spike/Check Accuracy`  #> header has 1 row(s)  #> body has 10 row(s)  #> original dataset sample:  #>      Parameter Field Duplicate Field Duplicate_met Lab Duplicate #> 1      Ammonia               0                   0      0.000000 #> 2        Chl a               0                   0      0.000000 #> 3 Conductivity               0                   0      0.000000 #> 4           DO               0                   0      0.000000 #> 5      Nitrate               0                   0      7.272727 #>   Lab Duplicate_met Field Blank Field Blank_met Lab Blank Lab Blank_met #> 1                 0    4.605263               0  4.605263             0 #> 2                 0    0.000000               0  0.000000             0 #> 3                 0          NA              NA  0.000000             0 #> 4                 0          NA              NA  0.000000             0 #> 5                 1    0.000000               0  0.000000             0 #>   Spike/Check Accuracy Spike/Check Accuracy_met #> 1             0.000000                        0 #> 2             0.000000                        0 #> 3             4.326923                        0 #> 4             0.000000                        0 #> 5             5.454545                        1"}]
