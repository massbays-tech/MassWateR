<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Water Quality Exchange output • MassWateR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Water Quality Exchange output">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MassWateR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/MassWateR.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/inputs.html">MassWateR data input and checks</a></li>
    <li><a class="dropdown-item" href="../articles/outlierchecks.html">MassWateR outlier checks</a></li>
    <li><a class="dropdown-item" href="../articles/qcoverview.html">MassWateR quality control functions</a></li>
    <li><a class="dropdown-item" href="../articles/analysis.html">MassWateR analyses</a></li>
    <li><a class="dropdown-item" href="../articles/utility.html">MassWateR utility functions</a></li>
    <li><a class="dropdown-item" href="../articles/modifying.html">Modifying plots</a></li>
    <li><a class="dropdown-item" href="../articles/wqx.html">Water Quality Exchange output</a></li>
    <li><a class="dropdown-item" href="../articles/outofstate.html">Out of state?</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../RESOURCES.html">Resources</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/massbays-tech/MassWateR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Water Quality Exchange output</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/massbays-tech/MassWateR/blob/main/vignettes/wqx.Rmd" class="external-link"><code>vignettes/wqx.Rmd</code></a></small>
      <div class="d-none name"><code>wqx.Rmd</code></div>
    </div>

    
    
<p>The MassWateR package includes additional tools for generating output
that will facilitate upload of data to the EPA <a href="https://www.epa.gov/waterdata/water-quality-data" target="_blank" class="external-link">Water Quality Exchange</a> (WQX). The function for
generating the WQX output can be used once the required data are
successfully imported into R (see the <a href="https://massbays-tech.github.io/MassWateR/articles/inputs.html">data
input and checks vignette</a> for an overview). The results data file,
the data quality objectives file for accuracy, the site metadata, and
the wqx metadata files are required to use these functions. The example
data included with the package are imported here to demonstrate how to
use the analysis functions:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">MassWateR</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># import results data</span></span>
<span><span class="va">respth</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/ExampleResults.xlsx"</span>, package <span class="op">=</span> <span class="st">"MassWateR"</span><span class="op">)</span></span>
<span><span class="va">resdat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/readMWRresults.html">readMWRresults</a></span><span class="op">(</span><span class="va">respth</span><span class="op">)</span></span>
<span><span class="co">#&gt; Running checks on results data...</span></span>
<span><span class="co">#&gt;  Checking column names... OK</span></span>
<span><span class="co">#&gt;  Checking all required columns are present... OK</span></span>
<span><span class="co">#&gt;  Checking valid Activity Types... OK</span></span>
<span><span class="co">#&gt;  Checking Activity Start Date formats... OK</span></span>
<span><span class="co">#&gt;  Checking depth data present... OK</span></span>
<span><span class="co">#&gt;  Checking for non-numeric values in Activity Depth/Height Measure... OK</span></span>
<span><span class="co">#&gt;  Checking Activity Depth/Height Unit... OK</span></span>
<span><span class="co">#&gt;  Checking Activity Relative Depth Name formats... OK</span></span>
<span><span class="co">#&gt;  Checking values in Activity Depth/Height Measure &gt; 1 m / 3.3 ft... OK</span></span>
<span><span class="co">#&gt;  Checking Characteristic Name formats... OK</span></span>
<span><span class="co">#&gt;  Checking Result Values... OK</span></span>
<span><span class="co">#&gt;  Checking for non-numeric values in Quantitation Limit... OK</span></span>
<span><span class="co">#&gt;  Checking QC Reference Values... OK</span></span>
<span><span class="co">#&gt;  Checking for missing entries for Result Unit... OK</span></span>
<span><span class="co">#&gt;  Checking if more than one unit per Characteristic Name... OK</span></span>
<span><span class="co">#&gt;  Checking acceptable units for each entry in Characteristic Name... OK</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; All checks passed!</span></span>
<span></span>
<span><span class="co"># import accuracy data</span></span>
<span><span class="va">accpth</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/ExampleDQOAccuracy.xlsx"</span>, package <span class="op">=</span> <span class="st">"MassWateR"</span><span class="op">)</span></span>
<span><span class="va">accdat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/readMWRacc.html">readMWRacc</a></span><span class="op">(</span><span class="va">accpth</span><span class="op">)</span></span>
<span><span class="co">#&gt; Running checks on data quality objectives for accuracy...</span></span>
<span><span class="co">#&gt;  Checking column names... OK</span></span>
<span><span class="co">#&gt;  Checking all required columns are present... OK</span></span>
<span><span class="co">#&gt;  Checking column types... OK</span></span>
<span><span class="co">#&gt;  Checking no "na" in Value Range... OK</span></span>
<span><span class="co">#&gt;  Checking for text other than &lt;=, ≤, &lt;, &gt;=, ≥, &gt;, ±, %, AQL, BQL, log, or all... OK</span></span>
<span><span class="co">#&gt;  Checking overlaps in Value Range... OK</span></span>
<span><span class="co">#&gt;  Checking gaps in Value Range... OK</span></span>
<span><span class="co">#&gt;  Checking Parameter formats... OK</span></span>
<span><span class="co">#&gt;  Checking for missing entries for unit (uom)... OK</span></span>
<span><span class="co">#&gt;  Checking if more than one unit (uom) per Parameter... OK</span></span>
<span><span class="co">#&gt;  Checking acceptable units (uom) for each entry in Parameter... OK</span></span>
<span><span class="co">#&gt;  Checking empty columns... OK</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; All checks passed!</span></span>
<span></span>
<span><span class="co"># import site metadata</span></span>
<span><span class="va">sitpth</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/ExampleSites.xlsx"</span>, package <span class="op">=</span> <span class="st">"MassWateR"</span><span class="op">)</span></span>
<span><span class="va">sitdat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/readMWRsites.html">readMWRsites</a></span><span class="op">(</span><span class="va">sitpth</span><span class="op">)</span></span>
<span><span class="co">#&gt; Running checks on site metadata...</span></span>
<span><span class="co">#&gt;  Checking column names... OK</span></span>
<span><span class="co">#&gt;  Checking all required columns are present... OK</span></span>
<span><span class="co">#&gt;  Checking for missing latitude or longitude values... OK</span></span>
<span><span class="co">#&gt;  Checking for non-numeric values in latitude... OK</span></span>
<span><span class="co">#&gt;  Checking for non-numeric values in longitude... OK</span></span>
<span><span class="co">#&gt;  Checking for positive values in longitude... OK</span></span>
<span><span class="co">#&gt;  Checking for missing entries for Monitoring Location ID... OK</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; All checks passed!</span></span>
<span></span>
<span><span class="co"># import wqx metadata</span></span>
<span><span class="va">wqxpth</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/ExampleWQX.xlsx"</span>, package <span class="op">=</span> <span class="st">"MassWateR"</span><span class="op">)</span></span>
<span><span class="va">wqxdat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/readMWRwqx.html">readMWRwqx</a></span><span class="op">(</span><span class="va">wqxpth</span><span class="op">)</span></span>
<span><span class="co">#&gt; Running checks on WQX metadata...</span></span>
<span><span class="co">#&gt;  Checking column names... OK</span></span>
<span><span class="co">#&gt;  Checking all required columns are present... OK</span></span>
<span><span class="co">#&gt;  Checking unique parameters... OK</span></span>
<span><span class="co">#&gt;  Checking Parameter formats... OK</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; All checks passed!</span></span></code></pre></div>
<div class="section level2">
<h2 id="generating-output-for-wqx">Generating output for WQX<a class="anchor" aria-label="anchor" href="#generating-output-for-wqx"></a>
</h2>
<p>The single function for generating output for upload to WQX is
<code><a href="../reference/tabMWRwqx.html">tabMWRwqx()</a></code>. This function will export a single Excel
workbook with three sheets, named “Project”, “Locations”, and “Results”.
The output is populated with as much content as possible based on
information in the input files. The remainder of the information not
included in the output will need to be manually entered before uploading
the data to WQX. All required columns are present, but individual rows
will need to be verified for completeness. It is the responsibility of
the user to verify this information is complete and correct before
uploading the data.</p>
<p>The workflow for using this function is to import the required data
(results, data quality objectives file for accuracy, site metadata, and
wqx metadata, as above) and to fix any errors noted on import prior to
creating the output. The function can be used with inputs as paths to
the relevant files or as data frames returned by
<code><a href="../reference/readMWRresults.html">readMWRresults()</a></code>, <code><a href="../reference/readMWRacc.html">readMWRacc()</a></code>,
<code><a href="../reference/readMWRsites.html">readMWRsites()</a></code>, and <code><a href="../reference/readMWRwqx.html">readMWRwqx()</a></code>. For the
former, the full suite of data checks can be evaluated with
<code>runkchk = T</code> (default) or suppressed with
<code>runchk = F</code>, as explained in the relevant help files. In the
latter case, downstream analyses may not work if data are formatted
incorrectly.</p>
<p>The workbook can be created as follows by including the required
files and specifying an output directory where the Excel file is saved
(a temporary directory is used here). Once the function is done running,
a message indicating success and where the file is located is returned.
The Excel file can be further edited by hand as needed.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/tabMWRwqx.html">tabMWRwqx</a></span><span class="op">(</span>res <span class="op">=</span> <span class="va">resdat</span>, acc <span class="op">=</span> <span class="va">accdat</span>, sit <span class="op">=</span> <span class="va">sitdat</span>, wqx <span class="op">=</span> <span class="va">wqxdat</span>, output_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Excel workbook created successfully! File located at /tmp/Rtmpp8r1Gt/wqxtab.xlsx</span></span></code></pre></div>
<p>As a convenience, the input files can also be passed to the
<code><a href="../reference/tabMWRwqx.html">tabMWRwqx()</a></code> function as a named list using the
<code>fset</code> argument. This eliminates the need to individually
specify the input arguments.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># names list of inputs</span></span>
<span><span class="va">fsetls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  res <span class="op">=</span> <span class="va">resdat</span>, </span>
<span>  acc <span class="op">=</span> <span class="va">accdat</span>, </span>
<span>  sit <span class="op">=</span> <span class="va">sitdat</span>,</span>
<span>  wqx <span class="op">=</span> <span class="va">wqxdat</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/tabMWRwqx.html">tabMWRwqx</a></span><span class="op">(</span>fset <span class="op">=</span> <span class="va">fsetls</span>, output_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Excel workbook created successfully! File located at /tmp/Rtmpp8r1Gt/wqxtab.xlsx</span></span></code></pre></div>
<p>The name of the output file can also be changed using the
<code>output_file</code> argument, the default being
<code>wqxtab.xlsx</code>. Warnings can also be turned off or on
(default) using the <code>warn</code> argument. This returns any
warnings when data are imported and only applies if the file inputs are
paths.</p>
<p>If preferred, the data frames that are saved as separate sheets in
the workbook can be returned as a list by setting
<code>listout = T</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/tabMWRwqx.html">tabMWRwqx</a></span><span class="op">(</span>fset <span class="op">=</span> <span class="va">fsetls</span>, listout <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="co">#&gt; $Projects</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 6</span></span></span>
<span><span class="co">#&gt;   `Project ID` `Project Name` `Project Description` QAPP Approved Indicator (Y…¹</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> My_WQ        <span style="color: #BB0000;">NA</span>             <span style="color: #BB0000;">NA</span>                    <span style="color: #BB0000;">NA</span>                          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> <span style="color: #BB0000;">NA</span>           <span style="color: #BB0000;">NA</span>             <span style="color: #BB0000;">NA</span>                    <span style="color: #BB0000;">NA</span>                          </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ abbreviated name: ¹​`QAPP Approved Indicator (Yes/No)`</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 more variables: `Project Attachment File Name (optional)` &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Project Attachment Type (optional)` &lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Locations</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 12 × 10</span></span></span>
<span><span class="co">#&gt;    `Monitoring Location ID` `Monitoring Location Name`    Monitoring Location …¹</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> ABT-026                  Rte 2, Concord                <span style="color: #BB0000;">NA</span>                    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> ABT-062                  Rte 62, Acton                 <span style="color: #BB0000;">NA</span>                    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> ABT-077                  Rte 27/USGS, Maynard          <span style="color: #BB0000;">NA</span>                    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> ABT-144                  Rte 62, Stow                  <span style="color: #BB0000;">NA</span>                    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> ABT-162                  Cox Street bridge             <span style="color: #BB0000;">NA</span>                    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> ABT-237                  Robin Hill Rd, Marlboro       <span style="color: #BB0000;">NA</span>                    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> ABT-301                  Rte 9, Westboro               <span style="color: #BB0000;">NA</span>                    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> ABT-312                  Mill Road, Westboro           <span style="color: #BB0000;">NA</span>                    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> DAN-013                  Danforth Br, Hudson           <span style="color: #BB0000;">NA</span>                    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> ELZ-004                  Elizabeth Br, Stow            <span style="color: #BB0000;">NA</span>                    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> HOP-011                  Hop Br, Northboro             <span style="color: #BB0000;">NA</span>                    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> NSH-002                  Nashoba, Commonwealth, W. Co… <span style="color: #BB0000;">NA</span>                    </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ abbreviated name: ¹​`Monitoring Location Type`</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 7 more variables: `Tribal Land Indicator (Yes/No) (optional)` &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Tribal Land Name (optional)` &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Monitoring Location Latitude (DD.DDDD)` &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Monitoring Location Longitude (-DDD.DDDD)` &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Monitoring Location Source Map Scale (conditional)` &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Monitoring Location Horizontal Collection Method` &lt;chr&gt;, …</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Results</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 813 × 31</span></span></span>
<span><span class="co">#&gt;    `Project ID` `Monitoring Location ID` `Activity ID`    Record ID User Suppl…¹</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> My_WQ        ABT-026                  ABT-026:2022051… A1234-67              </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> My_WQ        ABT-077                  ABT-077:2022051… A1234-68              </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> My_WQ        ABT-301                  ABT-301:2022051… A1234-69              </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> My_WQ        ABT-312                  ABT-312:2022051… A1234-70              </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> My_WQ        DAN-013                  DAN-013:2022051… A1234-71              </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> My_WQ        ELZ-004                  ELZ-004:2022051… A1234-72              </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> My_WQ        HOP-011                  HOP-011:2022051… A1234-73              </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> My_WQ        NSH-002                  NSH-002:2022051… A1234-74              </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> My_WQ        ABT-026                  ABT-026:2022061… A1234-75              </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> My_WQ        ABT-062                  ABT-062:2022061… A1234-76              </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 803 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ abbreviated name: ¹​`Record ID User Supplied`</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 27 more variables: `Activity Type` &lt;chr&gt;, `Activity Media Name` &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Activity Start Date` &lt;chr&gt;, `Activity Start Time` &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Activity Start Time Zone` &lt;chr&gt;, `Activity Depth/Height Measure` &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Activity Depth/Height Unit` &lt;chr&gt;, `Activity Relative Depth Name` &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Sample Collection Method ID` &lt;chr&gt;, …</span></span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="submitting-data-to-mass-dep">Submitting data to Mass DEP<a class="anchor" aria-label="anchor" href="#submitting-data-to-mass-dep"></a>
</h2>
<p>If you are submitting your data to Mass DEP, you must follow all of
their instructions as described on their <a href="https://www.mass.gov/guides/external-data-submittals-to-the-watershed-planning-program" target="_blank" class="external-link">External Data Submittal</a> webpage. Data and QC data
can be submitted using either the MassDEP data submission template OR by
uploading data to WQX. If you are submitting through WQX you should
complete the submission by notifying Mass DEP via email (<a href="mailto:WQData.Submit@mass.gov" target="_blank">WQData.Submit@mass.gov</a>). The e-mail must include the
group name / project name under which the data was submitted to WQX, a
copy of the project QAPP (if not already submitted), a statement of data
integrity, the MassWateR QC Report (with the raw data print out), and
any other supporting data reports.</p>
</div>
<div class="section level2">
<h2 id="uploading-data-to-wqx">Uploading data to WQX<a class="anchor" aria-label="anchor" href="#uploading-data-to-wqx"></a>
</h2>
<p>If desired, all rows from the WQX output file (created with
<code><a href="../reference/tabMWRwqx.html">tabMWRwqx()</a></code>) can be copied and pasted into the <a href="https://github.com/massbays-tech/MassWateR/raw/refs/heads/main/inst/extdata/WQX_Phys-Chem_Template_for_MassWateR.xlsx" class="external-link">WQX
upload template</a> (also available on the <a href="https://massbays-tech.github.io/MassWateR/RESOURCES.html">Resources</a>
tab), which offers an enhanced spreadsheet layout with more interactive
functionality (e.g., drop-down lists, prompts) and additional tabs with
supporting information (e.g., instructions, field definitions). This
template is especially useful if manual edits to the data are needed
prior to WQX upload.</p>
<p>To upload data to WQX, you will need to create or sign into <a href="https://www.epa.gov/waterdata/wqx-web-account-registration" target="_blank" class="external-link">your WQX account</a>. From there, you can upload your
Projects, Locations, and Results spreadsheets individually. Note that
Projects and Locations need only be uploaded once for your organization,
unless the data change. For each spreadsheet upload, assign the
appropriate MassWateR custom import configuration, check that your
Organization ID is assigned, browse to your upload file, and select
Import Data (image below). The next screen will notify you of upload
status and prompt you to correct any errors or warnings that arise. More
information on error resolution can be found in the <a href="https://www.epa.gov/sites/default/files/2020-03/documents/wqx_web_user_guide_v3.0.pdf" target="_blank" class="external-link">WQX User Guide</a>.</p>
<p><img src="WQX_import.png" width="100%"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Marcus Beck, Jill Carr, Ben Wetherill.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
