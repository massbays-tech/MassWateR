<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Create a formatted table of quality control frequency checks"><title>Create a formatted table of quality control frequency checks — tabMWRfre • MassWateR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create a formatted table of quality control frequency checks — tabMWRfre"><meta property="og:description" content="Create a formatted table of quality control frequency checks"><meta property="og:image" content="https://massbays-tech.github.io/MassWateR/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">MassWateR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9005</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/datainput.html">MassWateR data input and checks</a>
    <a class="dropdown-item" href="../articles/qcoverview.html">MassWateR quality control functions</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/massbays-tech/MassWateR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create a formatted table of quality control frequency checks</h1>
      <small class="dont-index">Source: <a href="https://github.com/massbays-tech/MassWateR/blob/HEAD/R/tabMWRfre.R" class="external-link"><code>R/tabMWRfre.R</code></a></small>
      <div class="d-none name"><code>tabMWRfre.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Create a formatted table of quality control frequency checks</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">tabMWRfre</span><span class="op">(</span>
  <span class="va">res</span>,
  <span class="va">frecom</span>,
  runchk <span class="op">=</span> <span class="cn">TRUE</span>,
  warn <span class="op">=</span> <span class="cn">TRUE</span>,
  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"summary"</span>, <span class="st">"percent"</span><span class="op">)</span>,
  pass_col <span class="op">=</span> <span class="st">"green"</span>,
  fail_col <span class="op">=</span> <span class="st">"red"</span>,
  digits <span class="op">=</span> <span class="fl">0</span>,
  suffix <span class="op">=</span> <span class="st">"%"</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>res</dt>
<dd><p>character string of path to the results file or <code>data.frame</code> for results returned by <code><a href="readMWRresults.html">readMWRresults</a></code></p></dd>


<dt>frecom</dt>
<dd><p>character string of path to the data quality objectives file for frequency and completeness or <code>data.frame</code> returned by <code><a href="readMWRfrecom.html">readMWRfrecom</a></code></p></dd>


<dt>runchk</dt>
<dd><p>logical to run data checks with <code><a href="checkMWRresults.html">checkMWRresults</a></code> and <code><a href="checkMWRfrecom.html">checkMWRfrecom</a></code>, applies only if <code>res</code> or <code>frecom</code> are file paths</p></dd>


<dt>warn</dt>
<dd><p>logical to return warnings to the console (default)</p></dd>


<dt>type</dt>
<dd><p>character string indicating <code>summary</code> or <code>percent</code> tabular output, see datails</p></dd>


<dt>pass_col</dt>
<dd><p>character string for the cell color of checks that pass, applies only if <code>type = 'percent'</code></p></dd>


<dt>fail_col</dt>
<dd><p>character string for the cell color of checks that fail, applies only if <code>type = 'percent'</code></p></dd>


<dt>digits</dt>
<dd><p>numeric indicating number of significant digits to report for percentages</p></dd>


<dt>suffix</dt>
<dd><p>character string indicating suffix to append to percentage values</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <code>flextable</code> object with formatted results.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function can be used with inputs as paths to the relevant files or as data frames returned by <code><a href="readMWRresults.html">readMWRresults</a></code> and <code><a href="readMWRfrecom.html">readMWRfrecom</a></code>.  For the former, the full suite of data checks can be evaluated with <code>runkchk = T</code> (default) or suppressed with <code>runchk = F</code>, as explained in the relevant help files.  In the latter case, downstream analyses may not work if data are formatted incorrectly.  Also note that completeness is only evaluated on parameters that are shared between the results file and data quality objectives file for frequency and completeness.  A warning is returned for parameters that do not match between the files. This warning can be suppressed by setting <code>warn = FALSE</code>.</p>
<p>The quality control tables for frequency show the number of records that apply to a given check (e.g., Lab Blank, Field Blank, etc.) relative to the number of "regular" data records (e.g., field samples or measures) for each parameter.  A summary of all frequency checks for each parameter is provided if <code>type = "summary"</code> or a color-coded table showing similar information as percentages for each parameter is provided if <code>type = "percent"</code>.</p>
<p>Inputs for the results and data quality objectives for frequency and completeness are processed internally with <code><a href="qcMWRcom.html">qcMWRcom</a></code> and the same arguments are accepted for this function, in addition to others listed above.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="co">##</span></span>
<span class="r-in"><span class="co"># using file paths</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># results path</span></span>
<span class="r-in"><span class="va">respth</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata/ExampleResults.xlsx'</span>, package <span class="op">=</span> <span class="st">'MassWateR'</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># frequency and completeness path</span></span>
<span class="r-in"><span class="va">frecompth</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata/ExampleDQOFrequencyCompleteness.xlsx'</span>, </span>
<span class="r-in">     package <span class="op">=</span> <span class="st">'MassWateR'</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># table as summary</span></span>
<span class="r-in"><span class="fu">tabMWRfre</span><span class="op">(</span>res <span class="op">=</span> <span class="va">respth</span>, frecom <span class="op">=</span> <span class="va">frecompth</span>, type <span class="op">=</span> <span class="st">'summary'</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running checks on results data...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking column names... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking all required columns are present... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking valid Activity Types... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Activity Start Date formats... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Activity Start Time formats... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking for non-numeric values in Activity Depth/Height Measure... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Activity Depth/Height Unit... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking values in Activity Depth/Height Measure &gt; 1 m / 3.3 ft... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Activity Relative Depth Name formats... OK</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>	Checking Characteristic Name formats...</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> 	Characteristic Name not used for quality control: Air Temp, Gage</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Characteristic Name formats... WARNING</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Result Values... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking QC Reference Values... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking for missing entries for Result Unit... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking if more than one unit per Characteristic Name... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking acceptable units for each entry in Characteristic Name... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> All checks passed (1 WARNING(s))!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running checks on data quality objectives for frequency and completeness...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking column names... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking all required columns are present... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking for non-numeric values... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking for values outside of 0 and 100... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Parameter formats... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> All checks passed!</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Parameters in quality control objectives for frequency and completeness not found in results data: Chloride, Conductivity</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Parameters in results not found in quality control objectives for frequency and completeness: Air Temp, DO saturation, E.coli, Flow, Gage, Sp Conductance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a flextable object.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> col_keys: `Type`, `Parameter`, `Number of Data Records`, `Number of Dups/Blanks/Spikes`, `Frequency %`, `Hit/Miss` </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> header has 1 row(s) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> body has 45 row(s) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> original dataset sample: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Type Parameter Number of Data Records</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  Field Duplicates      &lt;NA&gt;                     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7              &lt;NA&gt;   Ammonia                    138</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8              &lt;NA&gt;     Chl a                     18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9              &lt;NA&gt;        DO                    199</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10             &lt;NA&gt;   Nitrate                     96</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Number of Dups/Blanks/Spikes Frequency % Hit/Miss</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                            NA          NA     &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                             0    0.000000     MISS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                             0    0.000000     MISS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                             0    0.000000     MISS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                            8    8.333333     MISS</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># table as percent</span></span>
<span class="r-in"><span class="fu">tabMWRfre</span><span class="op">(</span>res <span class="op">=</span> <span class="va">respth</span>, frecom <span class="op">=</span> <span class="va">frecompth</span>, type <span class="op">=</span> <span class="st">'percent'</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running checks on results data...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking column names... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking all required columns are present... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking valid Activity Types... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Activity Start Date formats... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Activity Start Time formats... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking for non-numeric values in Activity Depth/Height Measure... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Activity Depth/Height Unit... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking values in Activity Depth/Height Measure &gt; 1 m / 3.3 ft... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Activity Relative Depth Name formats... OK</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>	Checking Characteristic Name formats...</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> 	Characteristic Name not used for quality control: Air Temp, Gage</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Characteristic Name formats... WARNING</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Result Values... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking QC Reference Values... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking for missing entries for Result Unit... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking if more than one unit per Characteristic Name... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking acceptable units for each entry in Characteristic Name... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> All checks passed (1 WARNING(s))!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running checks on data quality objectives for frequency and completeness...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking column names... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking all required columns are present... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking for non-numeric values... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking for values outside of 0 and 100... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Parameter formats... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> All checks passed!</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Parameters in quality control objectives for frequency and completeness not found in results data: Chloride, Conductivity</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Parameters in results not found in quality control objectives for frequency and completeness: Air Temp, DO saturation, E.coli, Flow, Gage, Sp Conductance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a flextable object.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> col_keys: `Parameter`, `Field Duplicate`, `Lab Duplicate`, `Field Blank`, `Lab Blank`, `Spike/Check Accuracy` </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> header has 1 row(s) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> body has 9 row(s) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> original dataset sample: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Parameter Field Duplicate Field Duplicate_met Lab Duplicate Lab Duplicate_met</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   Ammonia        0.000000                   0       0.00000                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     Chl a        0.000000                   0       0.00000                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        DO        0.000000                   0       0.00000                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   Nitrate        8.333333                   0      11.45833                 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   Ortho P        0.000000                   0       0.00000                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Field Blank Field Blank_met Lab Blank Lab Blank_met Spike/Check Accuracy</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    5.072464               0  6.521739             1             0.000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    0.000000               0  0.000000             0             0.000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3          NA              NA  0.000000             0             1.005025</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    0.000000               0  0.000000             0             6.250000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    0.000000               0  0.000000             0             4.571429</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Spike/Check Accuracy_met</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                        0</span>
<span class="r-in"></span>
<span class="r-in"><span class="co">##</span></span>
<span class="r-in"><span class="co"># using data frames</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># results data</span></span>
<span class="r-in"><span class="va">resdat</span> <span class="op">&lt;-</span> <span class="fu"><a href="readMWRresults.html">readMWRresults</a></span><span class="op">(</span><span class="va">respth</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running checks on results data...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking column names... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking all required columns are present... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking valid Activity Types... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Activity Start Date formats... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Activity Start Time formats... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking for non-numeric values in Activity Depth/Height Measure... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Activity Depth/Height Unit... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking values in Activity Depth/Height Measure &gt; 1 m / 3.3 ft... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Activity Relative Depth Name formats... OK</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>	Checking Characteristic Name formats...</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> 	Characteristic Name not used for quality control: Air Temp, Gage</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Characteristic Name formats... WARNING</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Result Values... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking QC Reference Values... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking for missing entries for Result Unit... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking if more than one unit per Characteristic Name... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking acceptable units for each entry in Characteristic Name... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> All checks passed (1 WARNING(s))!</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># frequency and completeness data</span></span>
<span class="r-in"><span class="va">frecomdat</span> <span class="op">&lt;-</span> <span class="fu"><a href="readMWRfrecom.html">readMWRfrecom</a></span><span class="op">(</span><span class="va">frecompth</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running checks on data quality objectives for frequency and completeness...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking column names... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking all required columns are present... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking for non-numeric values... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking for values outside of 0 and 100... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Parameter formats... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> All checks passed!</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># table as summary</span></span>
<span class="r-in"><span class="fu">tabMWRfre</span><span class="op">(</span>res <span class="op">=</span> <span class="va">resdat</span>, frecom <span class="op">=</span> <span class="va">frecomdat</span>, type <span class="op">=</span> <span class="st">'summary'</span><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Parameters in quality control objectives for frequency and completeness not found in results data: Chloride, Conductivity</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Parameters in results not found in quality control objectives for frequency and completeness: Air Temp, DO saturation, E.coli, Flow, Gage, Sp Conductance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a flextable object.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> col_keys: `Type`, `Parameter`, `Number of Data Records`, `Number of Dups/Blanks/Spikes`, `Frequency %`, `Hit/Miss` </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> header has 1 row(s) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> body has 45 row(s) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> original dataset sample: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Type Parameter Number of Data Records</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  Field Duplicates      &lt;NA&gt;                     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7              &lt;NA&gt;   Ammonia                    138</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8              &lt;NA&gt;     Chl a                     18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9              &lt;NA&gt;        DO                    199</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10             &lt;NA&gt;   Nitrate                     96</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Number of Dups/Blanks/Spikes Frequency % Hit/Miss</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                            NA          NA     &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                             0    0.000000     MISS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                             0    0.000000     MISS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                             0    0.000000     MISS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                            8    8.333333     MISS</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># table as percent</span></span>
<span class="r-in"><span class="fu">tabMWRfre</span><span class="op">(</span>res <span class="op">=</span> <span class="va">resdat</span>, frecom <span class="op">=</span> <span class="va">frecomdat</span>, type <span class="op">=</span> <span class="st">'percent'</span><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Parameters in quality control objectives for frequency and completeness not found in results data: Chloride, Conductivity</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Parameters in results not found in quality control objectives for frequency and completeness: Air Temp, DO saturation, E.coli, Flow, Gage, Sp Conductance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a flextable object.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> col_keys: `Parameter`, `Field Duplicate`, `Lab Duplicate`, `Field Blank`, `Lab Blank`, `Spike/Check Accuracy` </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> header has 1 row(s) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> body has 9 row(s) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> original dataset sample: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Parameter Field Duplicate Field Duplicate_met Lab Duplicate Lab Duplicate_met</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   Ammonia        0.000000                   0       0.00000                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     Chl a        0.000000                   0       0.00000                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        DO        0.000000                   0       0.00000                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   Nitrate        8.333333                   0      11.45833                 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   Ortho P        0.000000                   0       0.00000                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Field Blank Field Blank_met Lab Blank Lab Blank_met Spike/Check Accuracy</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    5.072464               0  6.521739             1             0.000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    0.000000               0  0.000000             0             0.000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3          NA              NA  0.000000             0             1.005025</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    0.000000               0  0.000000             0             6.250000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    0.000000               0  0.000000             0             4.571429</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Spike/Check Accuracy_met</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                        0</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Marcus Beck, Jill Carr, Ben Wetherill, Pam DiBona.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.4.</p>
</div>

    </footer></div>

  

  

  </body></html>

