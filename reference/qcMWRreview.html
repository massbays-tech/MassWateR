<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create the quality control review report — qcMWRreview • MassWateR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create the quality control review report — qcMWRreview"><meta name="description" content="Create the quality control review report"><meta property="og:description" content="Create the quality control review report"><meta property="og:image" content="https://massbays-tech.github.io/MassWateR/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MassWateR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/MassWateR.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/inputs.html">MassWateR data input and checks</a></li>
    <li><a class="dropdown-item" href="../articles/outlierchecks.html">MassWateR outlier checks</a></li>
    <li><a class="dropdown-item" href="../articles/qcoverview.html">MassWateR quality control functions</a></li>
    <li><a class="dropdown-item" href="../articles/analysis.html">MassWateR analyses</a></li>
    <li><a class="dropdown-item" href="../articles/utility.html">MassWateR utility functions</a></li>
    <li><a class="dropdown-item" href="../articles/modifying.html">Modifying plots</a></li>
    <li><a class="dropdown-item" href="../articles/wqx.html">Water Quality Exchange output</a></li>
    <li><a class="dropdown-item" href="../articles/outofstate.html">Out of state?</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../RESOURCES.html">Resources</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/massbays-tech/MassWateR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create the quality control review report</h1>
      <small class="dont-index">Source: <a href="https://github.com/massbays-tech/MassWateR/blob/main/R/qcMWRreview.R" class="external-link"><code>R/qcMWRreview.R</code></a></small>
      <div class="d-none name"><code>qcMWRreview.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Create the quality control review report</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">qcMWRreview</span><span class="op">(</span></span>
<span>  res <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  acc <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  frecom <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fset <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">output_dir</span>,</span>
<span>  output_file <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rawdata <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  dqofontsize <span class="op">=</span> <span class="fl">7.5</span>,</span>
<span>  tabfontsize <span class="op">=</span> <span class="fl">9</span>,</span>
<span>  padding <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  warn <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  runchk <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-res">res<a class="anchor" aria-label="anchor" href="#arg-res"></a></dt>
<dd><p>character string of path to the results file or <code>data.frame</code> for results returned by <code><a href="readMWRresults.html">readMWRresults</a></code></p></dd>


<dt id="arg-acc">acc<a class="anchor" aria-label="anchor" href="#arg-acc"></a></dt>
<dd><p>character string of path to the data quality objectives file for accuracy or <code>data.frame</code> returned by <code><a href="readMWRacc.html">readMWRacc</a></code></p></dd>


<dt id="arg-frecom">frecom<a class="anchor" aria-label="anchor" href="#arg-frecom"></a></dt>
<dd><p>character string of path to the data quality objectives file for frequency and completeness or <code>data.frame</code> returned by <code><a href="readMWRfrecom.html">readMWRfrecom</a></code></p></dd>


<dt id="arg-fset">fset<a class="anchor" aria-label="anchor" href="#arg-fset"></a></dt>
<dd><p>optional list of inputs with elements named <code>res</code>, <code>acc</code>, <code>frecom</code>, <code>sit</code>, or <code>wqx</code> overrides the other arguments</p></dd>


<dt id="arg-output-dir">output_dir<a class="anchor" aria-label="anchor" href="#arg-output-dir"></a></dt>
<dd><p>character string of the output directory for the rendered file</p></dd>


<dt id="arg-output-file">output_file<a class="anchor" aria-label="anchor" href="#arg-output-file"></a></dt>
<dd><p>optional character string for the file name</p></dd>


<dt id="arg-rawdata">rawdata<a class="anchor" aria-label="anchor" href="#arg-rawdata"></a></dt>
<dd><p>logical to include quality control accuracy summaries for raw data, e.g., field blanks, etc.</p></dd>


<dt id="arg-dqofontsize">dqofontsize<a class="anchor" aria-label="anchor" href="#arg-dqofontsize"></a></dt>
<dd><p>numeric for font size in the data quality objective tables in the first page of the review</p></dd>


<dt id="arg-tabfontsize">tabfontsize<a class="anchor" aria-label="anchor" href="#arg-tabfontsize"></a></dt>
<dd><p>numeric for font size in the review tables</p></dd>


<dt id="arg-padding">padding<a class="anchor" aria-label="anchor" href="#arg-padding"></a></dt>
<dd><p>numeric for row padding for table output</p></dd>


<dt id="arg-warn">warn<a class="anchor" aria-label="anchor" href="#arg-warn"></a></dt>
<dd><p>logical indicating if warnings from the table functions are included in the file output</p></dd>


<dt id="arg-runchk">runchk<a class="anchor" aria-label="anchor" href="#arg-runchk"></a></dt>
<dd><p>logical to run data checks with <code><a href="checkMWRresults.html">checkMWRresults</a></code>, <code><a href="checkMWRacc.html">checkMWRacc</a></code>, <code><a href="checkMWRfrecom.html">checkMWRfrecom</a></code>, applies only if <code>res</code>, <code>acc</code>, or <code>frecom</code> are file paths</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A compiled review report named <code>qcreview.docx</code> (or name passed to <code>output_file</code>) will be saved in the directory specified by <code>output_dir</code></p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function compiles a review report as a Word document for all quality control checks included in the MassWateR package.  The report shows several tables, including the data quality objectives files for accuracy, frequency, and completeness, summary results for all accuracy checks, summary results for all frequency checks, summary results for all completeness checks, and individual results for all accuracy checks.  The report uses the individual table functions (which can be used separately) to return the results, which include <code><a href="tabMWRacc.html">tabMWRacc</a></code>, <code><a href="tabMWRfre.html">tabMWRfre</a></code>, and <code><a href="tabMWRcom.html">tabMWRcom</a></code>.  The help files for each of these functions can be consulted for a more detailed explanation of the quality control checks.</p>
<p>The workflow for using this function is to import the required data (results and data quality objective files) and to fix any errors noted on import prior to creating the review report.  Additional warnings that may be of interest as returned by the individual table functions can be returned in the console by setting <code>warn = TRUE</code>.</p>
<p>Optional arguments that can be changed as needed include specifying the file name with <code>output_file</code>, suppressing the raw data summaries at the end of the report with <code>rawdata = FALSE</code>, and changing the table font sizes (<code>dqofontsize</code> for the data quality objectives on the first page, <code>tabfontsize</code> for the remainder).</p>
<p>The function can be used with inputs as paths to the relevant files or as data frames returned by <code><a href="readMWRresults.html">readMWRresults</a></code>, <code><a href="readMWRacc.html">readMWRacc</a></code>, and <code><a href="readMWRfrecom.html">readMWRfrecom</a></code>.  For the former, the full suite of data checks can be evaluated with <code>runkchk = T</code> (default) or suppressed with <code>runchk = F</code>, as explained in the relevant help files.  In the latter case, downstream analyses may not work if data are formatted incorrectly. For convenience, a named list with the input arguments as paths or data frames can be passed to the <code>fset</code> argument instead. See the help file for <code><a href="utilMWRinput.html">utilMWRinput</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># results data path</span></span></span>
<span class="r-in"><span><span class="va">respth</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata/ExampleResults.xlsx'</span>, package <span class="op">=</span> <span class="st">'MassWateR'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># dqo accuracy data path</span></span></span>
<span class="r-in"><span><span class="va">accpth</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata/ExampleDQOAccuracy.xlsx'</span>, package <span class="op">=</span> <span class="st">'MassWateR'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># dqo completeness data path</span></span></span>
<span class="r-in"><span><span class="va">frecompth</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata/ExampleDQOFrequencyCompleteness.xlsx'</span>, package <span class="op">=</span> <span class="st">'MassWateR'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># results data</span></span></span>
<span class="r-in"><span><span class="va">resdat</span> <span class="op">&lt;-</span> <span class="fu"><a href="readMWRresults.html">readMWRresults</a></span><span class="op">(</span><span class="va">respth</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running checks on results data...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking column names... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking all required columns are present... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking valid Activity Types... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Activity Start Date formats... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking depth data present... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking for non-numeric values in Activity Depth/Height Measure... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Activity Depth/Height Unit... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Activity Relative Depth Name formats... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking values in Activity Depth/Height Measure &gt; 1 m / 3.3 ft... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Characteristic Name formats... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Result Values... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking for non-numeric values in Quantitation Limit... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking QC Reference Values... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking for missing entries for Result Unit... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking if more than one unit per Characteristic Name... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking acceptable units for each entry in Characteristic Name... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> All checks passed!</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># accuracy data</span></span></span>
<span class="r-in"><span><span class="va">accdat</span> <span class="op">&lt;-</span> <span class="fu"><a href="readMWRacc.html">readMWRacc</a></span><span class="op">(</span><span class="va">accpth</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running checks on data quality objectives for accuracy...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking column names... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking all required columns are present... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking column types... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking no "na" in Value Range... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking for text other than &lt;=, ≤, &lt;, &gt;=, ≥, &gt;, ±, %, AQL, BQL, log, or all... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking overlaps in Value Range... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking gaps in Value Range... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Parameter formats... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking for missing entries for unit (uom)... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking if more than one unit (uom) per Parameter... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking acceptable units (uom) for each entry in Parameter... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking empty columns... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> All checks passed!</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># frequency and completeness data</span></span></span>
<span class="r-in"><span><span class="va">frecomdat</span> <span class="op">&lt;-</span> <span class="fu"><a href="readMWRfrecom.html">readMWRfrecom</a></span><span class="op">(</span><span class="va">frecompth</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running checks on data quality objectives for frequency and completeness...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking column names... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking all required columns are present... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking for non-numeric values... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking for values outside of 0 and 100... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking Parameter formats... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Checking empty columns... OK</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> All checks passed!</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># create report</span></span></span>
<span class="r-in"><span><span class="fu">qcMWRreview</span><span class="op">(</span>res <span class="op">=</span> <span class="va">resdat</span>, acc <span class="op">=</span> <span class="va">accdat</span>, frecom <span class="op">=</span> <span class="va">frecomdat</span>, output_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Report created successfully! File located at /tmp/RtmpHJpyoL/qcreview.docx</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Marcus Beck, Jill Carr, Ben Wetherill.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

